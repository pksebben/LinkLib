{
    "anchor": 0,
    "found_anchor": false,
    "found_newest": true,
    "found_oldest": true,
    "history_limited": false,
    "messages": [
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>A revised package set for Nix: <a href=\"https://github.com/triton/triton\" target=\"_blank\" title=\"https://github.com/triton/triton\">https://github.com/triton/triton</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 109502771,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Triton",
            "submessages": [],
            "timestamp": 1491972770,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>Still the best series on Nix internals out there: <a href=\"http://lethalman.blogspot.co.id/2014/07/nix-pill-1-why-you-should-give-it-try.html\" target=\"_blank\" title=\"http://lethalman.blogspot.co.id/2014/07/nix-pill-1-why-you-should-give-it-try.html\">http://lethalman.blogspot.co.id/2014/07/nix-pill-1-why-you-should-give-it-try.html</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 109502822,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Nix pills",
            "submessages": [],
            "timestamp": 1491972858,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>Great talk by John Wiegley: <a href=\"https://www.youtube.com/watch?v=G9yiJ7d5LeI\" target=\"_blank\" title=\"https://www.youtube.com/watch?v=G9yiJ7d5LeI\">https://www.youtube.com/watch?v=G9yiJ7d5LeI</a></p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"G9yiJ7d5LeI\" href=\"https://www.youtube.com/watch?v=G9yiJ7d5LeI\" target=\"_blank\" title=\"https://www.youtube.com/watch?v=G9yiJ7d5LeI\"><img src=\"https://i.ytimg.com/vi/G9yiJ7d5LeI/default.jpg\"></a></div>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 109502921,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "How I use nix for Haskell development",
            "submessages": [],
            "timestamp": 1491973086,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/8f3e3f13689ac077fe4ae537e33bde345a57cb22?x=x&version=2",
            "client": "website",
            "content": "<p>This is a pretty great series, Vaibhav!  <span class=\"user-mention\" data-user-email=\"paul@paulwmorris.com\" data-user-id=\"100524\">@Paul Morris (SP1'17)</span> <span class=\"user-mention\" data-user-email=\"botwhytho@gmail.com\" data-user-id=\"100545\">@Alberto Torres (SP1'17)</span> <span class=\"user-mention\" data-user-email=\"moritz.neeb@posteo.net\" data-user-id=\"100515\">@Moritz Neeb (SP1'17)</span> .  This article here is the best so far, and goes into what's going on with <code>nix-env</code> in terms of symlinks, the store, profile, etc.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 109517437,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "1f44d",
                    "emoji_name": "+1",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "botwhytho@gmail.com",
                        "full_name": "Alberto Torres (SP1'17)",
                        "id": 100545
                    },
                    "user_id": 100545
                }
            ],
            "recipient_id": 103227,
            "sender_email": "recurse@ardent.nebcorp.com",
            "sender_full_name": "Joe Ardent (he) (SP1'17)",
            "sender_id": 9097,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Nix pills",
            "submessages": [],
            "timestamp": 1492007806,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p><a href=\"https://medium.com/@MrJamesFisher/nix-by-example-a0063a1a4c55\" target=\"_blank\" title=\"https://medium.com/@MrJamesFisher/nix-by-example-a0063a1a4c55\">https://medium.com/@MrJamesFisher/nix-by-example-a0063a1a4c55</a> is a good overview of the Nix language. I don't think there is a part 2.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 109518750,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Nix by example",
            "submessages": [],
            "timestamp": 1492010095,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/919b4af386b43c5ca84d8e664790a7d906336c0d?x=x&version=1",
            "client": "website",
            "content": "<p>Also, <a href=\"http://4.bp.blogspot.com/-rUOVu3JmjWM/V-Gsy26dUpI/AAAAAAAAAmg/Mk_E79OFDE44BMA9VqhUBAn2Py0z8UeygCK4B/s80/avatar.png\" target=\"_blank\" title=\"http://4.bp.blogspot.com/-rUOVu3JmjWM/V-Gsy26dUpI/AAAAAAAAAmg/Mk_E79OFDE44BMA9VqhUBAn2Py0z8UeygCK4B/s80/avatar.png\">this</a> dude's avatar cracks me up every time. He's written on how to use nix to build docker images which I'll be giving a try soon. Thanks for the link.</p>\n<div class=\"message_inline_image\"><a href=\"http://4.bp.blogspot.com/-rUOVu3JmjWM/V-Gsy26dUpI/AAAAAAAAAmg/Mk_E79OFDE44BMA9VqhUBAn2Py0z8UeygCK4B/s80/avatar.png\" target=\"_blank\" title=\"this\"><img src=\"https://uploads.zulipusercontent.net/af08242cc9b99192e20469da27134762041cd63b/687474703a2f2f342e62702e626c6f6773706f742e636f6d2f2d72554f5675334a6d6a574d2f562d4773793236645570492f4141414141414141416d672f4d6b5f4537394f4644453434424d41395671685542416e325079307a3855657967434b34422f7338302f6176617461722e706e67\"></a></div>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 109519285,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "1f44d",
                    "emoji_name": "+1",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "ajarara94@gmail.com",
                        "full_name": "Ahmad Jarara (S2'17)",
                        "id": 101400
                    },
                    "user_id": 101400
                },
                {
                    "emoji_code": "1f44d",
                    "emoji_name": "+1",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "vaibhavsagar@gmail.com",
                        "full_name": "Vaibhav Sagar (he) (F1'16)",
                        "id": 100041
                    },
                    "user_id": 100041
                },
                {
                    "emoji_code": "1f44d",
                    "emoji_name": "+1",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "recurse@ardent.nebcorp.com",
                        "full_name": "Joe Ardent (he) (SP1'17)",
                        "id": 9097
                    },
                    "user_id": 9097
                }
            ],
            "recipient_id": 103227,
            "sender_email": "botwhytho@gmail.com",
            "sender_full_name": "Alberto Torres (SP1'17)",
            "sender_id": 100545,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Nix pills",
            "submessages": [],
            "timestamp": 1492011036,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>Useful example repo by Gabriel Gonzalez: <a href=\"https://github.com/Gabriel439/haskell-nix\" target=\"_blank\" title=\"https://github.com/Gabriel439/haskell-nix\">https://github.com/Gabriel439/haskell-nix</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 109519656,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "How I use nix for Haskell development",
            "submessages": [],
            "timestamp": 1492011730,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>A different approach by Sukant Hajra: <a href=\"https://github.com/shajra/example-nix\" target=\"_blank\" title=\"https://github.com/shajra/example-nix\">https://github.com/shajra/example-nix</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 109519668,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "How I use nix for Haskell development",
            "submessages": [],
            "timestamp": 1492011778,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>Jezen Thomas has a nice walkthrough: <a href=\"https://jezenthomas.com/deploying-a-haskell-web-service-with-nix/\" target=\"_blank\" title=\"https://jezenthomas.com/deploying-a-haskell-web-service-with-nix/\">https://jezenthomas.com/deploying-a-haskell-web-service-with-nix/</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 109519680,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "How I use nix for Haskell development",
            "submessages": [],
            "timestamp": 1492011830,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>Will Fancher makes sure everything plays nicely together: <a href=\"https://github.com/ElvishJerricco/nix-cabal-stack-skeleton\" target=\"_blank\" title=\"https://github.com/ElvishJerricco/nix-cabal-stack-skeleton\">https://github.com/ElvishJerricco/nix-cabal-stack-skeleton</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 109519742,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "How I use nix for Haskell development",
            "submessages": [],
            "timestamp": 1492011916,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p><a href=\"http://ebzzry.io/en/nix/\" target=\"_blank\" title=\"http://ebzzry.io/en/nix/\">http://ebzzry.io/en/nix/</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 109555686,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "A Gentle Introduction to the Nix Family",
            "submessages": [],
            "timestamp": 1492085237,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p><a href=\"https://github.com/lukego/blog/issues/17\" target=\"_blank\" title=\"https://github.com/lukego/blog/issues/17\">https://github.com/lukego/blog/issues/17</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 110586244,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "NixOS troubleshooting with git bisect",
            "submessages": [],
            "timestamp": 1494292291,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p><span class=\"user-mention\" data-user-email=\"freshdried@gmail.com\" data-user-id=\"8985\">@Sean Lee (SP2'16)</span> ^</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 110586245,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "NixOS troubleshooting with git bisect",
            "submessages": [],
            "timestamp": 1494292306,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/919b4af386b43c5ca84d8e664790a7d906336c0d?x=x&version=1",
            "client": "website",
            "content": "<p><a href=\"http://i.imgur.com/UmpOi.gif\" target=\"_blank\" title=\"http://i.imgur.com/UmpOi.gif\"> wow</a></p>\n<div class=\"message_inline_image\"><a href=\"http://i.imgur.com/UmpOi.gif\" target=\"_blank\" title=\" wow\"><img src=\"https://uploads.zulipusercontent.net/e461b97fc12793e278f1992c76497cd864068b2a/687474703a2f2f692e696d6775722e636f6d2f556d704f692e676966\"></a></div>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 110633684,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "botwhytho@gmail.com",
            "sender_full_name": "Alberto Torres (SP1'17)",
            "sender_id": 100545,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "NixOS troubleshooting with git bisect",
            "submessages": [],
            "timestamp": 1494387106,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/919b4af386b43c5ca84d8e664790a7d906336c0d?x=x&version=1",
            "client": "website",
            "content": "<p><a href=\"https://github.com/ehmry/genode-nix\" target=\"_blank\" title=\"https://github.com/ehmry/genode-nix\">https://github.com/ehmry/genode-nix</a></p>\n<p>Found it through this conversation</p>\n<p><a href=\"https://www.reddit.com/r/NixOS/comments/66ubwi/imagine_having_the_power_of_nixos_on_top_of_a/\" target=\"_blank\" title=\"https://www.reddit.com/r/NixOS/comments/66ubwi/imagine_having_the_power_of_nixos_on_top_of_a/\">https://www.reddit.com/r/NixOS/comments/66ubwi/imagine_having_the_power_of_nixos_on_top_of_a/</a></p>\n<p>I would want to get into genode at some point but super low level (for my experience so far)</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 110795987,
            "is_me_message": false,
            "last_edit_timestamp": 1494728451,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "botwhytho@gmail.com",
            "sender_full_name": "Alberto Torres (SP1'17)",
            "sender_id": 100545,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "nix + Genode",
            "submessages": [],
            "timestamp": 1494728426,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>Pretty excited about this release! Here are <a href=\"https://schedule.nixcon2017.org//system/event_attachments/attachments/000/000/004/original/talk.pdf?1509289391\" target=\"_blank\" title=\"https://schedule.nixcon2017.org//system/event_attachments/attachments/000/000/004/original/talk.pdf?1509289391\">some slides by Eelco</a>.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 117877726,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Nix 1.12",
            "submessages": [],
            "timestamp": 1509469019,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/919b4af386b43c5ca84d8e664790a7d906336c0d?x=x&version=1",
            "client": "website",
            "content": "<p><span class=\"user-mention\" data-user-email=\"vaibhavsagar@gmail.com\" data-user-id=\"100041\">@Vaibhav Sagar (F1'16)</span> Thanks for the link. Some breaking U/X changes with cli commands but from skimming they are a move in a good dirrection.</p>\n<blockquote>\n<p>Store paths now have signatures!</p>\n</blockquote>\n<p>This seems like an improvement but not immediatly apparent to me how specifically. any thoughts?</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 118049962,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "botwhytho@gmail.com",
            "sender_full_name": "Alberto Torres (SP1'17)",
            "sender_id": 100545,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Nix 1.12",
            "submessages": [],
            "timestamp": 1509812310,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>Currently if you want to serve a binary cache, you have to provide a public key that clients use to verify the contents of each binary that's served. Maybe this obviates that? I'm not sure.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 118052009,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Nix 1.12",
            "submessages": [],
            "timestamp": 1509816957,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p><a href=\"https://www.youtube.com/watch?v=GMQPzv3Sx58\" target=\"_blank\" title=\"https://www.youtube.com/watch?v=GMQPzv3Sx58\">https://www.youtube.com/watch?v=GMQPzv3Sx58</a></p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"GMQPzv3Sx58\" href=\"https://www.youtube.com/watch?v=GMQPzv3Sx58\" target=\"_blank\" title=\"https://www.youtube.com/watch?v=GMQPzv3Sx58\"><img src=\"https://i.ytimg.com/vi/GMQPzv3Sx58/default.jpg\"></a></div>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 124258490,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Nix: Under the hood by Gabriel Gonzalez",
            "submessages": [],
            "timestamp": 1522127728,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p><a href=\"https://www.youtube.com/watch?v=NQJVNvxgDqg\" target=\"_blank\" title=\"https://www.youtube.com/watch?v=NQJVNvxgDqg\">https://www.youtube.com/watch?v=NQJVNvxgDqg</a></p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"NQJVNvxgDqg\" href=\"https://www.youtube.com/watch?v=NQJVNvxgDqg\" target=\"_blank\" title=\"https://www.youtube.com/watch?v=NQJVNvxgDqg\"><img src=\"https://i.ytimg.com/vi/NQJVNvxgDqg/default.jpg\"></a></div>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 125520469,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Setting up a simple CI server using Haskell and Nix",
            "submessages": [],
            "timestamp": 1524380796,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p>Has anyone had success with this? I'm writing an app in kotlin that depends on things from maven repos but aside from sending up a fat jar that I compile locally I can't get dependencies to be visible.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 127826698,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Maven with nix",
            "submessages": [],
            "timestamp": 1528564193,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p>Having tried this again recently, I think I'm just going to bite the bullet and use rust for these tiny programs instead. This means I'm going to jump from trustworthy fedora to NixOS on my personal machine. We'll see how it goes, I have high hopes!</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 137133756,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Maven with nix",
            "submessages": [],
            "timestamp": 1541289481,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "ZulipMobile",
            "content": "<p>All the best! I run NixOS on all my Linux laptops and I've been pretty happy with it so far.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 137141837,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Maven with nix",
            "submessages": [],
            "timestamp": 1541306496,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p>NixOS is live on my machine, pretty much exactly how I was using fedora.</p>\n<p>Currently all the packages  I need for interactive editing is in environment.systemPackages. Is this what you do? I've seen there's also <a href=\"https://github.com/rycee/home-manager\" target=\"_blank\" title=\"https://github.com/rycee/home-manager\">https://github.com/rycee/home-manager</a>, but I'm also kind of fine with putting my user specific config in <code>~/.nixpkgs/config</code> as well.</p>\n<p>Right now I'm pretty set since I have emacs and firefox!</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 147408704,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Maven with nix",
            "submessages": [],
            "timestamp": 1541806734,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>I use <code>environment.systemPackages</code> as much as possible, and avoid <code>nix-env</code> (which is only possible on NixOS). My config is at <a href=\"https://github.com/vaibhavsagar/nixos-config\" target=\"_blank\" title=\"https://github.com/vaibhavsagar/nixos-config\">https://github.com/vaibhavsagar/nixos-config</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 147439961,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Maven with nix",
            "submessages": [],
            "timestamp": 1541868974,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p>Neat, thanks!</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 147443613,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Maven with nix",
            "submessages": [],
            "timestamp": 1541875366,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p>Hmm, can't stuff absolutely everything in there, since I'm starting to get collisions. If I figure out how to get relatively painless interactive crate testing + building going this'll be less of a problem.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 147491467,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Maven with nix",
            "submessages": [],
            "timestamp": 1541970388,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p>cd bin/scripts<br>\n./toggle</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 148899001,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "supply paths of binaries in the store",
            "submessages": [],
            "timestamp": 1543622585,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p>DTERMINAL<br>\nCD<br>\nCD BIN/SCRIPTS<br>\n./TOGGL</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 148899006,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "supply paths of binaries in the store",
            "submessages": [],
            "timestamp": 1543622595,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p>CD<br>\nCD BIN/SCRIPTS<br>\n./TOGGL</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 148899036,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "supply paths of binaries in the store",
            "submessages": [],
            "timestamp": 1543622625,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p>./TOGG</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 148899039,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "supply paths of binaries in the store",
            "submessages": [],
            "timestamp": 1543622634,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>what is going on here?</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 148900989,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "supply paths of binaries in the store",
            "submessages": [],
            "timestamp": 1543625163,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p>Ha. Some bug in xrandr that can't deal with multiple monitors in clamshell mode very well. I wrote a script that refreshes it (<a href=\"https://github.com/alphor/scripts/blob/master/toggle-monitors\" target=\"_blank\" title=\"https://github.com/alphor/scripts/blob/master/toggle-monitors\">https://github.com/alphor/scripts/blob/master/toggle-monitors</a>) and I type it blind sometimes. Last time it did not work :P</p>\n<p>I think now that I've moved to nixOS I can use pkgs.writeScript for these, and maybe bind it to a key that doesn't input any text.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 150699520,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "supply paths of binaries in the store",
            "submessages": [],
            "timestamp": 1543703753,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p>Original question prompting this thread retrieved from drafts:</p>\n<p>I have an emacs package that expects to be fed the path of cargo and rust. Currently, I have this:</p>\n<div class=\"codehilite\"><pre><span></span>    <span class=\"p\">(</span><span class=\"k\">setq</span> <span class=\"nv\">cargo-process--custom-path-to-bin</span> <span class=\"s\">&quot;\\&quot;$(nix-build &#39;&lt;nixpkgs&gt;&#39; --no-build-output -A cargo)\\&quot;/bin/cargo&quot;</span><span class=\"p\">)</span>\n    <span class=\"p\">(</span><span class=\"k\">setq</span> <span class=\"nv\">cargo-process--rustc-cmd</span> <span class=\"s\">&quot;\\&quot;$(nix-build &#39;&lt;nixpkgs&gt;&#39; --no-build-output -A rustc)\\&quot;/bin/rustc&quot;</span><span class=\"p\">)</span>\n</pre></div>\n\n\n<p>This _works_ and is fast enough to use just fine, but when I have dependencies I think cargo will fetch these. Is there a better way to say \"provide cargo with these dependencies in scope\" from say a nix file?</p>\n<p>Carnix is an option, but I'd rather know how to do it in nix instead of relying on a tool to generate things for me.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 150699570,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "supply paths of binaries in the store",
            "submessages": [],
            "timestamp": 1543703868,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>Where does <code>cargo</code> expect its dependencies to be provided? Environment variables, a file, a special directory? With Haskell there is <code>ghcWithPackages</code> which does the necessary wrangling to provide an environment with certain dependencies in scope, so if you want the same for Rust you will have to know a lot about how Cargo works.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 150700650,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "supply paths of binaries in the store",
            "submessages": [],
            "timestamp": 1543706132,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>I'm trying to install cargo-generate (via cargo), which requires libssl - I think that this is the openssl package, so I installed that by adding it to systemPackages. How can I see where this puts files? I expected /nix/store/*ssl to exist, but it doesn't <span aria-label=\"confused\" class=\"emoji emoji-1f615\" role=\"img\" title=\"confused\">:confused:</span> </p>\n<div class=\"codehilite\"><pre><span></span>Could not find directory of OpenSSL installation, and this `-sys` crate cannot\nproceed without this knowledge. If OpenSSL is installed and this crate had\ntrouble finding it,  you can set the `OPENSSL_DIR` environment variable for the\ncompilation process.\n\nMake sure you also have the development packages of openssl installed.\nFor example, `libssl-dev` on Ubuntu or `openssl-devel` on Fedora.\n</pre></div>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 159608153,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "libssl?",
            "submessages": [],
            "timestamp": 1551355106,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>Is there an equivalent to <code>pacman -Fl</code> or <code>apt-file list</code>?</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 159608200,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "libssl?",
            "submessages": [],
            "timestamp": 1551355187,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>Oh, I see <a href=\"https://nixos.wiki/wiki/FAQ/I_installed_a_library_but_my_compiler_is_not_finding_it._Why%3F\" target=\"_blank\" title=\"https://nixos.wiki/wiki/FAQ/I_installed_a_library_but_my_compiler_is_not_finding_it._Why%3F\">https://nixos.wiki/wiki/FAQ/I_installed_a_library_but_my_compiler_is_not_finding_it._Why%3F</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 159608422,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "libssl?",
            "submessages": [],
            "timestamp": 1551355386,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>Well, turns out if I don't want to go all in and build my rust crates with nix right now, <code>PKG_CONFIG_PATH=/nix/store/fpqffv3d073122jz5j4m6cg6z5n2rkp8-openssl-1.0.2q-dev/lib/pkgconfig/ cargo install cargo-generate</code> gets the job done.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 159610340,
            "is_me_message": false,
            "last_edit_timestamp": 1551357323,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "libssl?",
            "submessages": [],
            "timestamp": 1551357305,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>If you haven't come across this already, I think <a href=\"https://github.com/mozilla/nixpkgs-mozilla\" target=\"_blank\" title=\"https://github.com/mozilla/nixpkgs-mozilla\">https://github.com/mozilla/nixpkgs-mozilla</a> is the preferred way to do Rust things in Nix (because it includes the latest releases of the compiler etc.)</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 159625041,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "1f44d",
                    "emoji_name": "+1",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "me@wesleyac.com",
                        "full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
                        "id": 101330
                    },
                    "user_id": 101330
                }
            ],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "libssl?",
            "submessages": [],
            "timestamp": 1551368739,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/0aac726e8ce27b55809824e7f6de77e7?d=identicon&version=1",
            "client": "website",
            "content": "<p><span class=\"user-mention\" data-user-id=\"101330\">@Wesley Aptekar-Cassels (F2'17)</span>  You can also set those paths with <code>nix-shell -p pkgconfig openssl_1_0_0</code>.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 160190798,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "1f44d",
                    "emoji_name": "+1",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "me@wesleyac.com",
                        "full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
                        "id": 101330
                    },
                    "user_id": 101330
                }
            ],
            "recipient_id": 103227,
            "sender_email": "jamie@scattered-thoughts.net",
            "sender_full_name": "Jamie Brandon (he) (W1'20)",
            "sender_id": 863,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "libssl?",
            "submessages": [],
            "timestamp": 1551959845,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>What's the correct way to get a program that expects libGL.so.1 to be around to run? I don't have libGL in /run/opengl/driver. I hear that it's supposed to be in <code>libglvnd</code> (and it is), but when I patchelf <code>/nix/store/lnyzwcv7f2pqf5ws334dv8i80qb76rfd-libglvnd-1.0.0/lib</code> into the rpath of the binary it still complains that it's missing. What's up with that? I can get it to work by including that path in <code>LD_LIBRARY_PATH</code>, but it seems like patchelf should do the same thing? patchelf is working for other libraries on the same binary, so I don't know why libGL is different.</p>\n<p>I found <a href=\"https://github.com/NixOS/nixpkgs/pull/37369\" target=\"_blank\" title=\"https://github.com/NixOS/nixpkgs/pull/37369\">https://github.com/NixOS/nixpkgs/pull/37369</a>, but it isn't obvious to me if that has to do with it.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 161410643,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "libGL",
            "submessages": [],
            "timestamp": 1553217235,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p>(I ended up just using carnix, and fixing the xrandr bug. In case anyone else runs into it, sometimes xrandr thinks a monitor is auto configured when it isn't, so I grep for the toggled monitor in <code>xrandr --listactivemonitors</code> and moved the script to actual nix config:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">{</span> writeShellScriptBin<span class=\"p\">,</span> xrandr<span class=\"p\">,</span> gnugrep<span class=\"p\">,</span> internal <span class=\"o\">?</span> <span class=\"s2\">&quot;eDP1&quot;</span><span class=\"p\">,</span> external <span class=\"o\">?</span> <span class=\"s2\">&quot;DP2-1&quot;</span> <span class=\"p\">}:</span>\n\n<span class=\"k\">let</span>\n  <span class=\"ss\">xrandrBin =</span> <span class=\"s2\">&quot;</span><span class=\"si\">${</span>xrandr<span class=\"si\">}</span><span class=\"s2\">/bin/xrandr&quot;</span><span class=\"p\">;</span>\n  <span class=\"ss\">grepBin =</span> <span class=\"s2\">&quot;</span><span class=\"si\">${</span>gnugrep<span class=\"si\">}</span><span class=\"s2\">/bin/grep&quot;</span><span class=\"p\">;</span>\n<span class=\"k\">in</span>\nwriteShellScriptBin <span class=\"s2\">&quot;toggle-monitors&quot;</span> <span class=\"s1\">&#39;&#39;</span>\n<span class=\"s1\">  # in some cases we get into a stuck state where xrandr thinks a</span>\n<span class=\"s1\">  # monitor is connected, but it really isn</span><span class=\"err\">&#39;</span><span class=\"s1\">t</span>\n<span class=\"s1\">  function resetIfActive() {</span>\n<span class=\"s1\">    if </span><span class=\"si\">${</span>xrandrBin<span class=\"si\">}</span><span class=\"s1\"> --listactivemonitors | grep &quot;$monitor&quot;; then</span>\n<span class=\"s1\">      </span><span class=\"si\">${</span>xrandrBin<span class=\"si\">}</span><span class=\"s1\"> --output &quot;$1&quot; --off</span>\n<span class=\"s1\">    fi</span>\n<span class=\"s1\">    </span><span class=\"si\">${</span>xrandrBin<span class=\"si\">}</span><span class=\"s1\"> --output &quot;$1&quot; --auto --dpi &quot;$1&quot;</span>\n<span class=\"s1\">  }</span>\n\n<span class=\"s1\">  if </span><span class=\"si\">${</span>xrandrBin<span class=\"si\">}</span><span class=\"s1\"> | </span><span class=\"si\">${</span>grepBin<span class=\"si\">}</span><span class=\"s1\"> &quot;</span><span class=\"si\">${</span>external<span class=\"si\">}</span><span class=\"s1\"> connected&quot;; then</span>\n<span class=\"s1\">    resetIfActive </span><span class=\"si\">${</span>external<span class=\"si\">}</span><span class=\"s1\"></span>\n<span class=\"s1\">    </span><span class=\"si\">${</span>xrandrBin<span class=\"si\">}</span><span class=\"s1\"> --output &quot;</span><span class=\"si\">${</span>internal<span class=\"si\">}</span><span class=\"s1\">&quot; --off</span>\n<span class=\"s1\">  else</span>\n<span class=\"s1\">    resetIfActive </span><span class=\"si\">${</span>internal<span class=\"si\">}</span><span class=\"s1\"></span>\n<span class=\"s1\">    </span><span class=\"si\">${</span>xrandrBin<span class=\"si\">}</span><span class=\"s1\"> --output &quot;</span><span class=\"si\">${</span>external<span class=\"si\">}</span><span class=\"s1\">&quot; --off</span>\n<span class=\"s1\">  fi</span>\n<span class=\"se\">&#39;&#39;</span>\n</pre></div>\n\n\n<p>If this got any more complicated I might see if I could hit RandR directly from rust, but this has worked pretty well and <a href=\"https://www.x.org/releases/X11R7.7/doc/randrproto/randrproto.txt\" target=\"_blank\" title=\"https://www.x.org/releases/X11R7.7/doc/randrproto/randrproto.txt\">randr looks complicated</a>)</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 162145629,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "supply paths of binaries in the store",
            "submessages": [],
            "timestamp": 1553991050,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p><a href=\"https://www.meetup.com/New-York-Nix-Users-Group/\" target=\"_blank\" title=\"https://www.meetup.com/New-York-Nix-Users-Group/\">https://www.meetup.com/New-York-Nix-Users-Group/</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 164294244,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "New York Nix Users Group",
            "submessages": [],
            "timestamp": 1556309563,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>my boss was like, \"hey, how do you feel about organising a Nix meetup?\" and here we are</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 164294271,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "New York Nix Users Group",
            "submessages": [],
            "timestamp": 1556309589,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p><a href=\"https://www.meetup.com/New-York-Nix-Users-Group/events/260952308\" target=\"_blank\" title=\"https://www.meetup.com/New-York-Nix-Users-Group/events/260952308\">https://www.meetup.com/New-York-Nix-Users-Group/events/260952308</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 164296890,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "New York Nix Users Group",
            "submessages": [],
            "timestamp": 1556311898,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p>Nice!</p>\n<p>Where do you work?</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 166132922,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "New York Nix Users Group",
            "submessages": [],
            "timestamp": 1558399942,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "ZulipMobile",
            "content": "<p>I work at <a href=\"https://obsidian.systems\" target=\"_blank\" title=\"https://obsidian.systems\">https://obsidian.systems</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 166157026,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "New York Nix Users Group",
            "submessages": [],
            "timestamp": 1558431715,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>Does anyone here use home-manager?</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 166879001,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "home-manager",
            "submessages": [],
            "timestamp": 1559189393,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p>These have moved: <a href=\"https://nixos.org/nixos/nix-pills/index.html\" target=\"_blank\" title=\"https://nixos.org/nixos/nix-pills/index.html\">https://nixos.org/nixos/nix-pills/index.html</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 167906285,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Nix pills",
            "submessages": [],
            "timestamp": 1560302688,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p>I set nixPath in my config to point to a check out of nixpkgs, but I notice that when I evaluate it in the repl it points to a channel with a different git revision (if I'm reading the output of <code>nix-instantiate --eval --expr \"&lt;nixpkgs\"&gt;</code>, which outputs: <code>/nix/store/6kq7dd14jivhd9zcx789rawpy0ppywvq-nixos-18.09.2574.a7e559a5504/nixos</code>, a7e559 is a valid commit.)</p>\n<p>I think the right thing to do anyway is to not peek at the filesystem for what the current state is (though it is nice to modify a service and have it be picked up on rebuild) but instead point to a revision with fetchGitLocal or something.</p>\n<p>Why is &lt;nixpkgs&gt; still pointing to a channel though?</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 167906659,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "<nixpkgs> using defexpr instead of the path",
            "submessages": [],
            "timestamp": 1560303191,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p>Post submit clarification:<br>\n- the nix instantiate call returns a symlink to that store path<br>\n- I haven't moved my head after I rebuilt, which I expected might be the problem. Invalid derivations also get picked up (like munging the md5).</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 167906740,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "<nixpkgs> using defexpr instead of the path",
            "submessages": [],
            "timestamp": 1560303331,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p>The output of configuration.nix:</p>\n<div class=\"codehilite\"><pre><span></span>  nix<span class=\"o\">.</span><span class=\"ss\">nixPath =</span> <span class=\"k\">let</span>\n    <span class=\"ss\">home =</span> <span class=\"s2\">&quot;/home/ajarara&quot;</span><span class=\"p\">;</span>\n  <span class=\"k\">in</span> <span class=\"p\">[</span>\n    <span class=\"s2\">&quot;nixpkgs=</span><span class=\"si\">${</span>home<span class=\"si\">}</span><span class=\"s2\">/proj/nixpkgs&quot;</span>\n    <span class=\"s2\">&quot;nixos-config=</span><span class=\"si\">${</span>home<span class=\"si\">}</span><span class=\"s2\">/conf/local/configuration.nix&quot;</span>\n    <span class=\"p\">];</span>\n</pre></div>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 167906818,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "<nixpkgs> using defexpr instead of the path",
            "submessages": [],
            "timestamp": 1560303435,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>what are the contents of <code>$NIX_PATH</code>?</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 168054539,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "<nixpkgs> using defexpr instead of the path",
            "submessages": [],
            "timestamp": 1560438919,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p><code>nixpkgs=/nix/var/nix/profiles/per-user/root/channels/nixos:nixos-config=/etc/nixos/configuration.nix:/nix/var/nix/profiles/per-user/root/channels</code></p>\n<p>Reading that symlink is the same <code>a7e9</code> checkout. A rebuild of nixpkgs on a different revision still uses that commit, and changes in the repo aren't picked up in a repl or a nix expr referring to &lt;nixpkgs&gt;.</p>\n<p>What does configuration.nix get passed as <code>pkgs</code>?</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 168209091,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "<nixpkgs> using defexpr instead of the path",
            "submessages": [],
            "timestamp": 1560607632,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p>The problem is only with &lt;nixpkgs&gt;, a nixos rebuild picks up changes correctly.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 168209100,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "<nixpkgs> using defexpr instead of the path",
            "submessages": [],
            "timestamp": 1560607676,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p>At the cost of overloading this thread, this looks promising: <a href=\"https://github.com/tadfisher/gradle2nix\" target=\"_blank\" title=\"https://github.com/tadfisher/gradle2nix\">https://github.com/tadfisher/gradle2nix</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 168365911,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Maven with nix",
            "submessages": [],
            "timestamp": 1560827692,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>hmm, it doesn't look like <code>$NIX_PATH</code> is getting set to the value you specify in <code>nix.nixPath</code>, am I missing something?</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 168693827,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "<nixpkgs> using defexpr instead of the path",
            "submessages": [],
            "timestamp": 1561133245,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p>The only really wonky thing I haven't mentioned is that when I reboot my computer I need to do a nixos-rebuild switch to get my systemPackages in my path, though that has happened since before I attempted to do this.  Since this seems like all I need to do, maybe it's just my nixos install is incorrect.</p>\n<p>Thankfully a reinstall is very easy with Nix :)</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 168731185,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "<nixpkgs> using defexpr instead of the path",
            "submessages": [],
            "timestamp": 1561169029,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p><a href=\"https://www.meetup.com/New-York-Nix-Users-Group/events/262822113/\" target=\"_blank\" title=\"https://www.meetup.com/New-York-Nix-Users-Group/events/262822113/\">https://www.meetup.com/New-York-Nix-Users-Group/events/262822113/</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 169522068,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "New York Nix Users Group",
            "submessages": [],
            "timestamp": 1562104044,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/8776bd2d19cdb1399c4e9589d9397d57290e5729?x=x&version=2",
            "client": "website",
            "content": "<p>ooh, I could get a new drive by that time. Do you think someone could figure out how to install nixOS on a second drive for an EFI boot process?</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 169522295,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "shae.erisson@gmail.com",
            "sender_full_name": "Shae Matijs Erisson (he) (F1'19)",
            "sender_id": 221819,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "New York Nix Users Group",
            "submessages": [],
            "timestamp": 1562104246,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "ZulipMobile",
            "content": "<p>I think it would be the right place to ask someone!</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 169557306,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "New York Nix Users Group",
            "submessages": [],
            "timestamp": 1562152416,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/674da3534f3fc8e95568ee8cfad3de73?d=identicon&version=1",
            "client": "website",
            "content": "<p>Cross-posting from <code>small questions</code>, since I just learned about this stream.</p>\n<p>I've decided to buckle down and actually understand Nix rather than stumbling through it and I don't know why inlining a <code>let</code> expression doesn't work? In particular</p>\n<div class=\"codehilite\"><pre><span></span>let\n  custom-keepass = pkgs.keepass.overrideAttrs (oldAttrs: rec {\n    plugins = [ pkgs.keepass-keefox ];\n  });\nin\n  [\n    # List of other packages\n    custom-keepass\n  ]\n</pre></div>\n\n\n<p>for my <code>environment.systemPackages</code> in NixOS works fine, but inlining <code>custom-keepass</code> gives me</p>\n<div class=\"codehilite\"><pre><span></span>error: The option value `environment.systemPackages.[definition 48-entry 68]&#39; in `/etc/nixos/configuration.nix&#39; is not of type `package&#39;.\n</pre></div>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 172529477,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mail@changlinli.com",
            "sender_full_name": "Changlin Li (he) (S2'19)",
            "sender_id": 228114,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Inlining let expressions doesn't work?",
            "submessages": [],
            "timestamp": 1565032203,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p><span class=\"user-mention\" data-user-id=\"228114\">@Changlin Li (he) (S2'19)</span> did you surround the inlined expression with parentheses? Lists in Nix are space-delimited.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 172540133,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Inlining let expressions doesn't work?",
            "submessages": [],
            "timestamp": 1565040654,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/674da3534f3fc8e95568ee8cfad3de73?d=identicon&version=1",
            "client": "website",
            "content": "<p>That did the trick! Thanks; totally forgot about that</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 172540829,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mail@changlinli.com",
            "sender_full_name": "Changlin Li (he) (S2'19)",
            "sender_id": 228114,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Inlining let expressions doesn't work?",
            "submessages": [],
            "timestamp": 1565041257,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>Trips me up every time <span aria-label=\"smiley\" class=\"emoji emoji-1f603\" role=\"img\" title=\"smiley\">:smiley:</span></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 172540859,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Inlining let expressions doesn't work?",
            "submessages": [],
            "timestamp": 1565041286,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>Does anyone have a working jekyll setup on nix? I'm trying the workaround from <a href=\"https://github.com/NixOS/nixpkgs/commit/d24aefd52f75f0854a417c3adf02c9d310c23157\" target=\"_blank\" title=\"https://github.com/NixOS/nixpkgs/commit/d24aefd52f75f0854a417c3adf02c9d310c23157\">this commit</a>. <code>bundle install --gemfile=Gemfile --path vendor/cache</code> works, but then <code>bundle exec jekyll serve</code> gives the error:</p>\n<div class=\"codehilite\"><pre><span></span>Configuration file: /home/wesleyac/code/blog/_config.yml\nConfiguration file: /home/wesleyac/code/blog/_config.yml\n/home/wesleyac/code/blog/vendor/cache/ruby/2.5.0/gems/sprockets-3.6.3/lib/sprockets/digest_utils.rb:47: warning: constant ::Fixnum is deprecated\n/home/wesleyac/code/blog/vendor/cache/ruby/2.5.0/gems/sprockets-3.6.3/lib/sprockets/digest_utils.rb:51: warning: constant ::Bignum is deprecated\n/home/wesleyac/code/blog/vendor/cache/ruby/2.5.0/gems/sprockets-3.6.3/lib/sprockets/processor_utils.rb:110: warning: constant ::Fixnum is deprecated\n/home/wesleyac/code/blog/vendor/cache/ruby/2.5.0/gems/sprockets-3.6.3/lib/sprockets/processor_utils.rb:111: warning: constant ::Bignum is deprecated\n            Source: /home/wesleyac/code/blog\n       Destination: /home/wesleyac/code/blog/_site\n Incremental build: disabled. Enable with --incremental\n      Generating...\n             ERROR: YOUR SITE COULD NOT BE BUILT:\n                    ------------------------------------\n                    Invalid date &#39;&lt;%= Time.now.strftime(&#39;%Y-%m-%d %H:%M:%S %z&#39;) %&gt;&#39;: Document &#39;vendor/cache/ruby/2.5.0/gems/jekyll-3.3.1/lib/site_template/_posts/0000-00-00-welcome-to-jekyll.markdown.erb&#39; does not have a valid date in the YAML front matter.\n</pre></div>\n\n\n<p>Anyone know what's up? The repo is <a href=\"https://github.com/wesleyac/blog\" target=\"_blank\" title=\"https://github.com/wesleyac/blog\">https://github.com/wesleyac/blog</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 174652510,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "nix and jekyll",
            "submessages": [],
            "timestamp": 1567325219,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>Hmmm. Well, adding <code>vendor/*</code> to the <code>exclude</code> section of my <code>_config.yaml</code> did the trick. IDK why it's like this, though.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 174652609,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "nix and jekyll",
            "submessages": [],
            "timestamp": 1567325461,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>It sketches me out that this is a failure mode that's possible - I should really get off jekyll</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 174652836,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "nix and jekyll",
            "submessages": [],
            "timestamp": 1567325940,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/0aac726e8ce27b55809824e7f6de77e7?d=identicon&version=1",
            "client": "website",
            "content": "<p>I have <a href=\"https://github.com/jamii/jamii.github.com/blob/master/default.nix\" target=\"_blank\" title=\"https://github.com/jamii/jamii.github.com/blob/master/default.nix\">https://github.com/jamii/jamii.github.com/blob/master/default.nix</a> and <a href=\"https://github.com/jamii/jamii.github.com/blob/master/gemset.nix\" target=\"_blank\" title=\"https://github.com/jamii/jamii.github.com/blob/master/gemset.nix\">https://github.com/jamii/jamii.github.com/blob/master/gemset.nix</a>. I don't remember how I arrived at that. </p>\n<p>Increasingly tempted to take a day and get on eg <a href=\"https://github.com/getzola/zola\" target=\"_blank\" title=\"https://github.com/getzola/zola\">https://github.com/getzola/zola</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 174924156,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "1f44d",
                    "emoji_name": "+1",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "me@wesleyac.com",
                        "full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
                        "id": 101330
                    },
                    "user_id": 101330
                }
            ],
            "recipient_id": 103227,
            "sender_email": "jamie@scattered-thoughts.net",
            "sender_full_name": "Jamie Brandon (he) (W1'20)",
            "sender_id": 863,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "nix and jekyll",
            "submessages": [],
            "timestamp": 1567632154,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>I was helping <span class=\"user-mention\" data-user-id=\"215391\">@Maren Beam (she) (SP2'19)</span> install NixOS, and we ran into an issue. The basic setup is:</p>\n<p>LVM on LUKS. Boot partition not encrypted.</p>\n<p><code>boot.initrd.luks.devices.crypted.device</code> set to the UUID of the LUKS device.<br>\n<code>fileSystems.\"/\".device</code> set to <code>/dev/mapper/lappy-root</code> (the name of the LVM volume for the root partition)</p>\n<p>NixOS fails in stage one, since it tries to fsck <code>/dev/mapper/crypted</code>. We don't understand why it does this - <code>/dev/mapper/crypted</code> isn't in <code>fileSystems</code>, and it even fails if we set <code>boot.initrd.checkJournalingFS</code> to <code>false</code>.</p>\n<p>Anyone have an idea what's up?</p>\n<p><a href=\"/user_uploads/13/gxy51ONrpibnOHZEAmd77NOE/IMG_20191116_025933.jpg\" target=\"_blank\" title=\"IMG_20191116_025933.jpg\">IMG_20191116_025933.jpg</a> </p>\n<div class=\"message_inline_image\"><a href=\"/user_uploads/13/gxy51ONrpibnOHZEAmd77NOE/IMG_20191116_025933.jpg\" target=\"_blank\" title=\"IMG_20191116_025933.jpg\"><img src=\"/user_uploads/13/gxy51ONrpibnOHZEAmd77NOE/IMG_20191116_025933.jpg\"></a></div><p><a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/modules/system/boot/stage-1-init.sh#L478\" target=\"_blank\" title=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/modules/system/boot/stage-1-init.sh#L478\">https://github.com/NixOS/nixpkgs/blob/master/nixos/modules/system/boot/stage-1-init.sh#L478</a> seems relevant.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 180902620,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "1f64f",
                    "emoji_name": "thank_you",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "thwidge@gmail.com",
                        "full_name": "Maren Beam (she) (SP2'19)",
                        "id": 215391
                    },
                    "user_id": 215391
                }
            ],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "luks, lvm, and fsck",
            "submessages": [],
            "timestamp": 1573891693,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>This is with systemd-boot, fwiw</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 180902793,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "luks, lvm, and fsck",
            "submessages": [],
            "timestamp": 1573891960,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/4d05a1864740bfcbe9e387dcc84c176442985158?x=x&version=8",
            "client": "ZulipMobile",
            "content": "<p>It\u2019s working!</p>\n<p>As an update, I reinstalled without lvm (only had one volume in LUKS anyway), and the installer configured everything correctly automatically :)</p>\n<p>I\u2019m so excited! THIS IS MY NEW FAVORITE YAK</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 180929358,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "9100",
                    "emoji_name": "yak",
                    "reaction_type": "realm_emoji",
                    "user": {
                        "email": "sebastian@morr.cc",
                        "full_name": "blinry (they) (SP2'19)",
                        "id": 215296
                    },
                    "user_id": 215296
                }
            ],
            "recipient_id": 103227,
            "sender_email": "thwidge@gmail.com",
            "sender_full_name": "Maren Beam (she) (SP2'19)",
            "sender_id": 215391,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "luks, lvm, and fsck",
            "submessages": [],
            "timestamp": 1573940211,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "ZulipMobile",
            "content": "<p>Glad you got it working!</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 180935073,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "luks, lvm, and fsck",
            "submessages": [],
            "timestamp": 1573950958,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p><a href=\"https://www.meetup.com/nylug-meetings/events/266437112\" target=\"_blank\" title=\"https://www.meetup.com/nylug-meetings/events/266437112\">https://www.meetup.com/nylug-meetings/events/266437112</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 181222647,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "11/21 [NYLUG] Sneaking in Nix",
            "submessages": [],
            "timestamp": 1574266799,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>I am setting up a deployment using nix, and I want to have a single source of truth for the IP of the server I'm deploying to. I think that the only place that this can be is in configuration.nix (since it needs to be there anyways). How can I pull the IP address (<code>networking.interfaces.eth0.ipv4.addresses.0.address</code> or something) out of the configuration.nix file? I feel like there should be some invocation of <code>nix-build</code> or <code>nix-instantiate</code> that should do it, but I can't quite figure it out.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 182309347,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "parse ip address from configuration.nix",
            "submessages": [],
            "timestamp": 1575250738,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>looks like <code>nix eval '(with import &lt;nixpkgs&gt; {}; (builtins.head ((callPackage ./config/networking.nix) {}).networking.interfaces.eth0.ipv4.addresses).address)' | sed 's/\"//g'</code> will do the trick, at least.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 182317754,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "parse ip address from configuration.nix",
            "submessages": [],
            "timestamp": 1575265749,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/e4646754f063094f39466a566be289082e138af5?x=x&version=2",
            "client": "website",
            "content": "<p>Hi! I'm using <a href=\"https://haskell-miso.org/\" target=\"_blank\" title=\"https://haskell-miso.org/\">Miso</a> to make a Haskell web app, and using Nix / ghcjs to build it. I'd need some help to setup a proper dev workflow with Nix / JSaddle and live code reloading, as described <a href=\"https://github.com/dmjio/miso/blob/master/sample-app-jsaddle/README.md\" target=\"_blank\" title=\"https://github.com/dmjio/miso/blob/master/sample-app-jsaddle/README.md\">here</a>. If someone is available today or during the weekend to give me a hand with this, I'd greatly appreciate it. Thanks!</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 182777560,
            "is_me_message": false,
            "last_edit_timestamp": 1575649922,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "perezv815@gmail.com",
            "sender_full_name": "Vincent Perez (F2'19)",
            "sender_id": 240629,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Help for setupping a Nix / ghcjs dev workflow",
            "submessages": [],
            "timestamp": 1575649764,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/8776bd2d19cdb1399c4e9589d9397d57290e5729?x=x&version=2",
            "client": "ZulipMobile",
            "content": "<p>The author is in Manhattan, perhaps he'll be at the cohack?</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 182786815,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "1f44d",
                    "emoji_name": "+1",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "perezv815@gmail.com",
                        "full_name": "Vincent Perez (F2'19)",
                        "id": 240629
                    },
                    "user_id": 240629
                }
            ],
            "recipient_id": 103227,
            "sender_email": "shae.erisson@gmail.com",
            "sender_full_name": "Shae Matijs Erisson (he) (F1'19)",
            "sender_id": 221819,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Help for setupping a Nix / ghcjs dev workflow",
            "submessages": [],
            "timestamp": 1575655326,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/8776bd2d19cdb1399c4e9589d9397d57290e5729?x=x&version=2",
            "client": "ZulipMobile",
            "content": "<p>I don't know if he uses Nix, I'll ask him</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 182786822,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "shae.erisson@gmail.com",
            "sender_full_name": "Shae Matijs Erisson (he) (F1'19)",
            "sender_id": 221819,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Help for setupping a Nix / ghcjs dev workflow",
            "submessages": [],
            "timestamp": 1575655341,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>of course he does</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 182790648,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Help for setupping a Nix / ghcjs dev workflow",
            "submessages": [],
            "timestamp": 1575657896,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/e4646754f063094f39466a566be289082e138af5?x=x&version=2",
            "client": "website",
            "content": "<blockquote>\n<p>The author is in Manhattan, perhaps he'll be at the cohack?</p>\n</blockquote>\n<p>he is not on the attendees' list, but that's good to know, thanks!</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 182799367,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "perezv815@gmail.com",
            "sender_full_name": "Vincent Perez (F2'19)",
            "sender_id": 240629,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Help for setupping a Nix / ghcjs dev workflow",
            "submessages": [],
            "timestamp": 1575663331,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>I have a nixos setup to deploy a static website (<a href=\"https://hack.wesleyac.com\" target=\"_blank\" title=\"https://hack.wesleyac.com\">https://hack.wesleyac.com</a>). My package looks like this:</p>\n<div class=\"codehilite\"><pre><span></span>{ pkgs, ... }:\n{\n  services.nginx.virtualHosts.&quot;hack.wesleyac.com&quot; = {\n    enableACME = true;\n    forceSSL = true;\n    root = pkgs.stdenv.mkDerivation {\n      name = &quot;hack.wesleyac.com&quot;;\n      src = ./content;\n      installPhase = &quot;cp -r $src $out&quot;;\n    };\n  };\n\n  security.acme.certs.&quot;hack.wesleyac.com&quot;.email = &quot;me@wesleyac.com&quot;;\n}\n</pre></div>\n\n\n<p>This works fine. However, I have a pretty large (~300MB) file. This means that whenever I deploy (via <code>nix-copy-closure</code>), the entire ~300MB blob is copied over. This is very slow and not good - how can I make that not happen?</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 184504866,
            "is_me_message": false,
            "last_edit_timestamp": 1577744117,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "deploying static website with large files",
            "submessages": [],
            "timestamp": 1577744086,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>(to be clear - i care about the case where i am not changing the 300MB file, but am changing the other files, so the entire package is copied over. usually I'd use something like rsync, but rsync doesn't seem like it'd fit into the <code>nix-copy-closure</code> world, so i'm curious what people do instead)</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 184505185,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "deploying static website with large files",
            "submessages": [],
            "timestamp": 1577744321,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>Can you split the 300MB file out into its own derivation?</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 184506393,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "deploying static website with large files",
            "submessages": [],
            "timestamp": 1577745259,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>If so, <code>nix-copy-closure</code> should know that it doesn't need to copy it over each time</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 184506454,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "deploying static website with large files",
            "submessages": [],
            "timestamp": 1577745316,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>I could, but then I'm not sure how to set up the nginx config, given that I want the file to be served out of the root - currently the setup is really simple (nginx just serves the output of the \"<a href=\"http://hack.wesleyac.com\" target=\"_blank\" title=\"http://hack.wesleyac.com\">hack.wesleyac.com</a>\" derivation), it's not clear to me off the top of my head how to make it so that it would serve <a href=\"https://hack.wesleyac.com/index.html\" target=\"_blank\" title=\"https://hack.wesleyac.com/index.html\">https://hack.wesleyac.com/index.html</a> out of one derivation and <a href=\"https://hack.wesleyac.com/LiteraryMachines.pdf\" target=\"_blank\" title=\"https://hack.wesleyac.com/LiteraryMachines.pdf\">https://hack.wesleyac.com/LiteraryMachines.pdf</a> (the ~300MB file in question) out of another.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 184506623,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "deploying static website with large files",
            "submessages": [],
            "timestamp": 1577745427,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/7d2ab014ebf55e99afffba1a3d92be8155754f0f?x=x&version=1",
            "client": "website",
            "content": "<p>(I don't know nix)</p>\n<p>Can your nginx config depend on the big file, and just create a symlink? Looks like nginx can be configure to follow links, and may even do so by default: <a href=\"http://nginx.org/en/docs/http/ngx_http_core_module.html#disable_symlinks\" target=\"_blank\" title=\"http://nginx.org/en/docs/http/ngx_http_core_module.html#disable_symlinks\">http://nginx.org/en/docs/http/ngx_http_core_module.html#disable_symlinks</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 184537275,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "kamal@marhubi.com",
            "sender_full_name": "Kamal Marhubi (he) (m2'18)",
            "sender_id": 8090,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "deploying static website with large files",
            "submessages": [],
            "timestamp": 1577789363,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "ZulipMobile",
            "content": "<p>Can the <code>hack.wesleyac.com</code> derivation depend on the other derivation? I don't see why you would need to change the location of anything, I was suggesting only changing how things are referenced</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 184544469,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "deploying static website with large files",
            "submessages": [],
            "timestamp": 1577799481,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "ZulipMobile",
            "content": "<p>But maybe you will have to do something like this, in which case Kamal's symlink suggestion is a good one</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 184544554,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "deploying static website with large files",
            "submessages": [],
            "timestamp": 1577799551,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>Oh - if I do both of those things, I can probably get something that'll work. I'm curious exactly what you were imagining, <span class=\"user-mention\" data-user-id=\"100041\">@Vaibhav Sagar (he) (F1'16)</span>, but I could see something like doing a <code>ln -s</code> in the <code>hack.wesleyac.com</code> derivation to the large file derivation.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 184555118,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "deploying static website with large files",
            "submessages": [],
            "timestamp": 1577813108,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>I was thinking something along those lines, but without having to do <code>ln -s</code> yourself and just referring to the file as <code>${my-other-derivation}/LiteraryMachines.pdf</code> where you want it</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 184555330,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "deploying static website with large files",
            "submessages": [],
            "timestamp": 1577813355,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>Hmm - I don't think that would work in this case, since the only input to nginx is the root directory. Would an <a href=\"https://nixos.org/nixpkgs/manual/#sec-overlays-install\" target=\"_blank\" title=\"https://nixos.org/nixpkgs/manual/#sec-overlays-install\">overlay</a> be a cleaner way to do this?</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 184555848,
            "is_me_message": false,
            "last_edit_timestamp": 1577813874,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "deploying static website with large files",
            "submessages": [],
            "timestamp": 1577813865,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>I don't think overlays would be an improvement for this use case, but I think you could use <a href=\"https://nixos.org/nixpkgs/manual/#sec-building-environment\" target=\"_blank\" title=\"https://nixos.org/nixpkgs/manual/#sec-building-environment\"><code>buildEnv</code></a> to assemble a bigger output out of smaller ones that can all be cached separately</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 184559565,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "1f44d",
                    "emoji_name": "+1",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "me@wesleyac.com",
                        "full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
                        "id": 101330
                    },
                    "user_id": 101330
                }
            ],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "deploying static website with large files",
            "submessages": [],
            "timestamp": 1577817992,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>Ok, I settled on this:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">{</span> pkgs<span class=\"p\">,</span> <span class=\"o\">...</span> <span class=\"p\">}:</span>\n\n<span class=\"k\">let</span>\n  <span class=\"ss\">litm =</span> pkgs<span class=\"o\">.</span>stdenv<span class=\"o\">.</span>mkDerivation <span class=\"p\">{</span>\n    <span class=\"ss\">name =</span> <span class=\"s2\">&quot;hack.wesleyac.com-litm&quot;</span><span class=\"p\">;</span>\n    <span class=\"ss\">src =</span> <span class=\"o\">.</span><span class=\"l\">/large_files</span><span class=\"p\">;</span>\n    <span class=\"ss\">installPhase =</span> <span class=\"s2\">&quot;cp $src/LiteraryMachines.pdf $out&quot;</span><span class=\"p\">;</span>\n  <span class=\"p\">};</span>\n  <span class=\"ss\">apue =</span> pkgs<span class=\"o\">.</span>stdenv<span class=\"o\">.</span>mkDerivation <span class=\"p\">{</span>\n    <span class=\"ss\">name =</span> <span class=\"s2\">&quot;hack.wesleyac.com-apue&quot;</span><span class=\"p\">;</span>\n    <span class=\"ss\">src =</span> <span class=\"o\">.</span><span class=\"l\">/large_files</span><span class=\"p\">;</span>\n    <span class=\"ss\">installPhase =</span> <span class=\"s2\">&quot;cp $src/apue.pdf $out&quot;</span><span class=\"p\">;</span>\n  <span class=\"p\">};</span>\n  <span class=\"ss\">ctci =</span> pkgs<span class=\"o\">.</span>stdenv<span class=\"o\">.</span>mkDerivation <span class=\"p\">{</span>\n    <span class=\"ss\">name =</span> <span class=\"s2\">&quot;hack.wesleyac.com-ctci&quot;</span><span class=\"p\">;</span>\n    <span class=\"ss\">src =</span> <span class=\"o\">.</span><span class=\"l\">/large_files</span><span class=\"p\">;</span>\n    <span class=\"ss\">installPhase =</span> <span class=\"s2\">&quot;cp $src/ctci.pdf $out&quot;</span><span class=\"p\">;</span>\n  <span class=\"p\">};</span>\n<span class=\"k\">in</span>\n<span class=\"p\">{</span>\n  services<span class=\"o\">.</span>nginx<span class=\"o\">.</span>virtualHosts<span class=\"o\">.</span><span class=\"s2\">&quot;hack.wesleyac.com&quot;</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n    <span class=\"ss\">enableACME =</span> <span class=\"no\">true</span><span class=\"p\">;</span>\n    <span class=\"ss\">forceSSL =</span> <span class=\"no\">true</span><span class=\"p\">;</span>\n    <span class=\"ss\">root =</span> pkgs<span class=\"o\">.</span>stdenv<span class=\"o\">.</span>mkDerivation <span class=\"p\">{</span>\n      <span class=\"ss\">name =</span> <span class=\"s2\">&quot;hack.wesleyac.com&quot;</span><span class=\"p\">;</span>\n      <span class=\"ss\">src =</span> <span class=\"o\">.</span><span class=\"l\">/content</span><span class=\"p\">;</span>\n      <span class=\"ss\">installPhase =</span> <span class=\"s1\">&#39;&#39;</span>\n<span class=\"s1\">        mkdir $out</span>\n<span class=\"s1\">        cp -r $src/* $out</span>\n<span class=\"s1\">        ln -s </span><span class=\"si\">${</span>litm<span class=\"si\">}</span><span class=\"s1\"> $out/LiteraryMachines.pdf</span>\n<span class=\"s1\">        ln -s </span><span class=\"si\">${</span>ctci<span class=\"si\">}</span><span class=\"s1\"> $out/ctci.pdf</span>\n<span class=\"s1\">        ln -s </span><span class=\"si\">${</span>apue<span class=\"si\">}</span><span class=\"s1\"> $out/apue.pdf</span>\n<span class=\"s1\">      &#39;&#39;</span><span class=\"p\">;</span>\n    <span class=\"p\">};</span>\n  <span class=\"p\">};</span>\n\n  security<span class=\"o\">.</span>acme<span class=\"o\">.</span>certs<span class=\"o\">.</span><span class=\"s2\">&quot;hack.wesleyac.com&quot;</span><span class=\"o\">.</span><span class=\"ss\">email =</span> <span class=\"s2\">&quot;me@wesleyac.com&quot;</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>I'm not <em>super</em> happy with it, but it works well enough.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 184615484,
            "is_me_message": false,
            "last_edit_timestamp": 1577916448,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "deploying static website with large files",
            "submessages": [],
            "timestamp": 1577916397,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>Do you foresee adding things to your <code>large_files</code> directory in the future? If so I think all your derivations will be unnecessarily rebuilt. Nix computes the hash based on the hash of the inputs, so you could rewrite what you have above using <code>runCommand</code> to something like:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"k\">let</span>\n  <span class=\"ss\">litm =</span> pkgs<span class=\"o\">.</span>runCommand <span class=\"s2\">&quot;litm&quot;</span> <span class=\"p\">{}</span> <span class=\"s1\">&#39;&#39;</span>\n<span class=\"s1\">    mkdir -p $out</span>\n<span class=\"s1\">    cp </span><span class=\"si\">${</span><span class=\"o\">.</span><span class=\"l\">/large_files/LiteraryMachines.pdf</span><span class=\"si\">}</span><span class=\"s1\"> $out/LiteraryMachines.pdf</span>\n<span class=\"s1\">  &#39;&#39;</span><span class=\"p\">;</span>\n  <span class=\"ss\">apue =</span> pkgs<span class=\"o\">.</span>runCommand <span class=\"s2\">&quot;apue&quot;</span> <span class=\"p\">{}</span> <span class=\"s1\">&#39;&#39;</span>\n<span class=\"s1\">    mkdir -p $out</span>\n<span class=\"s1\">    cp </span><span class=\"si\">${</span><span class=\"o\">.</span><span class=\"l\">/large_files/apue.pdf</span><span class=\"si\">}</span><span class=\"s1\"> $out/apue.pdf</span>\n<span class=\"s1\">  &#39;&#39;</span><span class=\"p\">;</span>\n  <span class=\"ss\">ctci =</span> pkgs<span class=\"o\">.</span>runCommand <span class=\"s2\">&quot;ctci&quot;</span> <span class=\"p\">{}</span> <span class=\"s1\">&#39;&#39;</span>\n<span class=\"s1\">    mkdir -p $out</span>\n<span class=\"s1\">    cp </span><span class=\"si\">${</span><span class=\"o\">.</span><span class=\"l\">/large_files/ctci.pdf</span><span class=\"si\">}</span><span class=\"s1\"> $out/ctci.pdf</span>\n<span class=\"s1\">  &#39;&#39;</span><span class=\"p\">;</span>\n<span class=\"k\">in</span>\n<span class=\"o\">...</span>\n</pre></div>\n\n\n<p>This only copies the PDFs themselves to the Nix store instead of the whole <code>large_files</code> directory, which you can then change without causing a rebuild.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 184619039,
            "is_me_message": false,
            "last_edit_timestamp": 1577923162,
            "reactions": [
                {
                    "emoji_code": "1f44d",
                    "emoji_name": "+1",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "me@wesleyac.com",
                        "full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
                        "id": 101330
                    },
                    "user_id": 101330
                }
            ],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "deploying static website with large files",
            "submessages": [],
            "timestamp": 1577923146,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>The problem I'm trying to solve here is this: if you were to <code>touch unrelated-file.txt</code> in your <code>large_files</code> directory, I think this would cause everything to be rebuilt (and re-copied over). With my changes, this shouldn't happen (I did a quick check to confirm this with dummy files on my machine)</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 184619200,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "deploying static website with large files",
            "submessages": [],
            "timestamp": 1577923441,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/3919cea3a42c84ebd524864a4f242513317a5302?x=x&version=2",
            "client": "ZulipMobile",
            "content": "<p>I was thinking the same thing! That happens to me all the time with result symlinks in small derivations</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 184620238,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "brian@brianthicks.com",
            "sender_full_name": "Brian Hicks (he) (m1'20)",
            "sender_id": 255038,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "deploying static website with large files",
            "submessages": [],
            "timestamp": 1577925473,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>That makes sense - thanks <span class=\"user-mention\" data-user-id=\"100041\">@Vaibhav Sagar (he) (F1'16)</span>!</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 184620461,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "1f44d",
                    "emoji_name": "+1",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "vaibhavsagar@gmail.com",
                        "full_name": "Vaibhav Sagar (he) (F1'16)",
                        "id": 100041
                    },
                    "user_id": 100041
                }
            ],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "deploying static website with large files",
            "submessages": [],
            "timestamp": 1577925952,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>Oh, wait - I think the current thing that I have will do this? <code>file /nix/store/g6xhcay1pw8b3rlxpg4f2p0amns5g4li-hack.wesleyac.com-litm</code> reports <code>PDF document, version 1.6</code> - is it bad to have the output of a derivation be a file, instead of a directory?</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 184620517,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "deploying static website with large files",
            "submessages": [],
            "timestamp": 1577926066,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>Having the output of a derivation be a file is fine!</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 184620558,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "1f44d",
                    "emoji_name": "+1",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "me@wesleyac.com",
                        "full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
                        "id": 101330
                    },
                    "user_id": 101330
                }
            ],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "deploying static website with large files",
            "submessages": [],
            "timestamp": 1577926092,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>The reason I didn't do this in my example was that I got unpredictable filenames for the PDFs, which I figured you wouldn't want, but I see now that you don't really use the filenames themselves anywhere.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 184620622,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "deploying static website with large files",
            "submessages": [],
            "timestamp": 1577926237,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/6263e852a5789e39c4bacd700eeba2cce3fe6f8f?x=x&version=5",
            "client": "website",
            "content": "<p>Just a cool blog post -- <a href=\"https://grahamc.com/blog/nix-and-layered-docker-images\" target=\"_blank\" title=\"https://grahamc.com/blog/nix-and-layered-docker-images\">https://grahamc.com/blog/nix-and-layered-docker-images</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 186009547,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "nathanisom27@gmail.com",
            "sender_full_name": "Nathan Isom (he) (W2'20)",
            "sender_id": 255190,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "optimizing docker layers with nix",
            "submessages": [],
            "timestamp": 1579377445,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/7d2ab014ebf55e99afffba1a3d92be8155754f0f?x=x&version=1",
            "client": "website",
            "content": "<p>has anyone in <a class=\"stream\" data-stream-id=\"100724\" href=\"/#narrow/stream/100724-nix\">#nix</a> experimented with <a href=\"https://guix.gnu.org/\" target=\"_blank\" title=\"https://guix.gnu.org/\">guix</a>?</p>\n<p>I like the emphasis on reproducible builds and reducing the trusted compute base (cf <a href=\"https://guix.gnu.org/blog/2020/reproducible-computations-with-guix/\" target=\"_blank\" title=\"https://guix.gnu.org/blog/2020/reproducible-computations-with-guix/\">[0]</a>, <a href=\"https://guix.gnu.org/blog/2019/guix-reduces-bootstrap-seed-by-50/\" target=\"_blank\" title=\"https://guix.gnu.org/blog/2019/guix-reduces-bootstrap-seed-by-50/\">[1]</a>, <a href=\"https://guix.gnu.org/blog/2019/reproducible-builds-summit-5th-edition/\" target=\"_blank\" title=\"https://guix.gnu.org/blog/2019/reproducible-builds-summit-5th-edition/\">[2]</a>). While nixos has this as a goal as well, it doesn't appear quite as core to the mission as it does in guix.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 187226557,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "kamal@marhubi.com",
            "sender_full_name": "Kamal Marhubi (he) (m2'18)",
            "sender_id": 8090,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "guix?",
            "submessages": [],
            "timestamp": 1580689994,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p><span class=\"user-mention\" data-user-id=\"234256\">@Ryan Prior (he) (F1'19)</span> experimented with Guix when he was in-batch IIRC</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 187226619,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "guix?",
            "submessages": [],
            "timestamp": 1580690142,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/0aac726e8ce27b55809824e7f6de77e7?d=identicon&version=1",
            "client": "website",
            "content": "<p>I keep meaning to. The idea of building a lo-bash distro definitely appeals to me.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 187226773,
            "is_me_message": false,
            "last_edit_timestamp": 1580690654,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "jamie@scattered-thoughts.net",
            "sender_full_name": "Jamie Brandon (he) (W1'20)",
            "sender_id": 863,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "guix?",
            "submessages": [],
            "timestamp": 1580690487,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/1a7b7bb06ea84ea8aa68986ba5a3d936?d=identicon&version=2",
            "client": "website",
            "content": "<p>I'm trying to package an IDE and am running into some problems. The installation process of the IDE involves executing a 32 bit \"installer\" executable, but this is segfaulting for me. Does anyone have any tips on how to proceed? I'm quite stuck on this point - I'm not sure how to debug the segfault. I don't have the source for the installer, so that makes debugging a bit more challenging.</p>\n<p>Even though I'm packaging with nix, I'm not so sure this is a nix specific issue.  I figured I would ask for help here, though.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 190751479,
            "is_me_message": false,
            "last_edit_timestamp": 1584378777,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "clample@crimson.ua.edu",
            "sender_full_name": "Chris Lample (he) (W2'17)",
            "sender_id": 100452,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "packaging 32 bit executable",
            "submessages": [],
            "timestamp": 1584378226,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/1a7b7bb06ea84ea8aa68986ba5a3d936?d=identicon&version=2",
            "client": "website",
            "content": "<div class=\"codehilite\"><pre><span></span>[chris@nixos:/tmp/nix-build-mplab-x-5.35.drv-36]$ strace ./MPLABX-v5.35-linux-installer.run\nexecve(&quot;./MPLABX-v5.35-linux-installer.run&quot;, [&quot;./MPLABX-v5.35-linux-installer.r&quot;...], 0x7ffea3ffd400 /* 56 vars\nstrace: [ Process PID=10802 runs in 32 bit mode. ]\nbrk(NULL)                               = 0x883b000\nmmap2(NULL, 8192, PROT_READ|PROT_WRITE, MAP_PRIVATE|MAP_ANONYMOUS, -1, 0) = 0xf7ef1000\n--- SIGSEGV {si_signo=SIGSEGV, si_code=SEGV_ACCERR, si_addr=0x80471e0} ---\n+++ killed by SIGSEGV (core dumped) +++\nSegmentation fault (core dumped)\n</pre></div>\n\n\n<p>The address causing the segfault is always 0x80471e0. I'm not so sure, but it looks like this is possibly trying to read something from the binary itself? I'm not so familiar with how ELF's work, but it looks like this address is somewhere between INIT and FINI, which is what makes me think that.</p>\n<div class=\"codehilite\"><pre><span></span>[chris@nixos:/tmp/nix-build-mplab-x-5.35.drv-36]$ readelf -d MPLABX-v5.35-linux-installer.run\n\nDynamic section at offset 0x174 contains 25 entries:\n  Tag        Type                         Name/Value\n 0x0000001d (RUNPATH)                    Library runpath: [/nix/store/kmsqmgqnxmm3p38wrvnz41spic77iwr9-glibc-2.3\n 0x00000001 (NEEDED)                     Shared library: [libm.so.6]\n 0x00000001 (NEEDED)                     Shared library: [libdl.so.2]\n 0x00000001 (NEEDED)                     Shared library: [libpthread.so.0]\n 0x00000001 (NEEDED)                     Shared library: [libc.so.6]\n 0x00000001 (NEEDED)                     Shared library: [ld-linux.so.2]\n 0x0000000c (INIT)                       0x804af54\n 0x0000000d (FINI)                       0x81552e4\n 0x00000004 (HASH)                       0x8048e50\n 0x00000005 (STRTAB)                     0x8047264\n 0x00000006 (SYMTAB)                     0x8047e80\n 0x0000000a (STRSZ)                      3099 (bytes)\n 0x0000000b (SYMENT)                     16 (bytes)\n 0x00000015 (DEBUG)                      0x0\n 0x00000003 (PLTGOT)                     0x817f058\n 0x00000002 (PLTRELSZ)                   1536 (bytes)\n 0x00000014 (PLTREL)                     REL\n 0x00000017 (JMPREL)                     0x804a954\n 0x00000011 (REL)                        0x804a784\n 0x00000012 (RELSZ)                      464 (bytes)\n 0x00000013 (RELENT)                     8 (bytes)\n 0x6ffffffe (VERNEED)                    0x804a644\n 0x6fffffff (VERNEEDNUM)                 5\n 0x6ffffff0 (VERSYM)                     0x804a448\n 0x00000000 (NULL)                       0x0\n</pre></div>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 190751812,
            "is_me_message": false,
            "last_edit_timestamp": 1584378816,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "clample@crimson.ua.edu",
            "sender_full_name": "Chris Lample (he) (W2'17)",
            "sender_id": 100452,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "packaging 32 bit executable",
            "submessages": [],
            "timestamp": 1584378359,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/8ecc2d529a87b809806e6e83245de2782fcb4394?x=x&version=2",
            "client": "website",
            "content": "<p>Has anyone had any success running i3-gaps on nixos? I thought it was as simple as setting <code>services.xserver.windowManager.i3.package = pkgs.i3-gaps;</code> in my nixos configuration but that appears not to have done anything, I'm still stuck with plain i3</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 191538420,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "contact@felixbiggs.com",
            "sender_full_name": "Felix Biggs (he) (W2'19)",
            "sender_id": 158580,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "i3 gaps - nixos",
            "submessages": [],
            "timestamp": 1584998532,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/4d05a1864740bfcbe9e387dcc84c176442985158?x=x&version=8",
            "client": "ZulipMobile",
            "content": "<p>Yeah I had this working at one point, and I can\u2019t remember what did it.</p>\n<p>Did you remove <code>services.xserver.windowManager.i3.enable = true;</code>, because I think you need both that and the setting you mentioned.</p>\n<p>Definitely not trying to tell you to RTFM, but possibly helpful blog post? <a href=\"http://johnduhamel.io/posts/2019-01-29-nixos-i3-setup.html\" target=\"_blank\" title=\"http://johnduhamel.io/posts/2019-01-29-nixos-i3-setup.html\">http://johnduhamel.io/posts/2019-01-29-nixos-i3-setup.html</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 191540800,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "thwidge@gmail.com",
            "sender_full_name": "Maren Beam (she) (SP2'19)",
            "sender_id": 215391,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "i3 gaps - nixos",
            "submessages": [],
            "timestamp": 1584999811,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/8ecc2d529a87b809806e6e83245de2782fcb4394?x=x&version=2",
            "client": "website",
            "content": "<p>Thanks! Hmm,  I still  have this setting and my config is actually almost identical to that from the blog post. It seems a little weird, all the docs seem to point only towards that setting, I can't find anything else obvious.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 191542220,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "contact@felixbiggs.com",
            "sender_full_name": "Felix Biggs (he) (W2'19)",
            "sender_id": 158580,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "i3 gaps - nixos",
            "submessages": [],
            "timestamp": 1585000607,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/0aac726e8ce27b55809824e7f6de77e7?d=identicon&version=1",
            "client": "website",
            "content": "<p>Possibly helpful - I've been using sway on nixos just fine and it <a href=\"https://github.com/swaywm/sway/wiki/Differences-from-i3\" target=\"_blank\" title=\"https://github.com/swaywm/sway/wiki/Differences-from-i3\">apparently</a> includes all the i3-gaps features.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 191548271,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "jamie@scattered-thoughts.net",
            "sender_full_name": "Jamie Brandon (he) (W1'20)",
            "sender_id": 863,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "i3 gaps - nixos",
            "submessages": [],
            "timestamp": 1585004157,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/0aac726e8ce27b55809824e7f6de77e7?d=identicon&version=1",
            "client": "website",
            "content": "<p>It's not a painless migration though, especially if you actively use any X-specific features.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 191548374,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "jamie@scattered-thoughts.net",
            "sender_full_name": "Jamie Brandon (he) (W1'20)",
            "sender_id": 863,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "i3 gaps - nixos",
            "submessages": [],
            "timestamp": 1585004227,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>does anyone else have a setup with the default acme client (<code>simp_le</code>) and multiple nginx vhosts and have automatic cert renewal just... not work? or better yet, work and can tell me how? wondering if this is a known bug, or if i should try to get a smaller repro...</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 191929958,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "renewing acme cert with multiple nginx vhosts",
            "submessages": [],
            "timestamp": 1585247645,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/6263e852a5789e39c4bacd700eeba2cce3fe6f8f?x=x&version=5",
            "client": "website",
            "content": "<p>I get inspo from looking at nix users repos who use nix to manage multiple machines. Here a few repos I've been peeking at lately: </p>\n<p><a href=\"https://github.com/jD91mZM2/dotfiles/blob/master/etc/computer/configuration.nix\" title=\"https://github.com/jD91mZM2/dotfiles/blob/master/etc/computer/configuration.nix\">https://github.com/jD91mZM2/dotfiles/blob/master/etc/computer/configuration.nix</a> (I like the shared consts and service examples here)<br>\n<a href=\"https://git.sr.ht/~spacekookie/libkookie/tree\" title=\"https://git.sr.ht/~spacekookie/libkookie/tree\">https://git.sr.ht/~spacekookie/libkookie/tree</a> (I like the build script in this one)<br>\n<a href=\"https://github.com/curiousleo/setup/tree/master/nixos\" title=\"https://github.com/curiousleo/setup/tree/master/nixos\">https://github.com/curiousleo/setup/tree/master/nixos</a> (I like the symlink setup here)</p>\n<p>feel free to add more links here and maybe highlight what you liked</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 192141045,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "nathanisom27@gmail.com",
            "sender_full_name": "Nathan Isom (he) (W2'20)",
            "sender_id": 255190,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "dotfiles inspo",
            "submessages": [],
            "timestamp": 1585428619,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/6263e852a5789e39c4bacd700eeba2cce3fe6f8f?x=x&version=5",
            "client": "website",
            "content": "<p>also feel free to add your own nix/nixos dotfiles here!</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 192141547,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "nathanisom27@gmail.com",
            "sender_full_name": "Nathan Isom (he) (W2'20)",
            "sender_id": 255190,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "dotfiles inspo",
            "submessages": [],
            "timestamp": 1585429551,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/1a7b7bb06ea84ea8aa68986ba5a3d936?d=identicon&version=2",
            "client": "website",
            "content": "<p>After having some problems running a few applications I need on NixOS, I decided to just have a dual boot with Ubuntu and run some of these tricky applications there.  In case anyone is ever interested in having a similar setup - I wrote up all of the steps here: <a href=\"https://gist.github.com/clample/e3c51bf8026098fded9628d3e0ee7967\" title=\"https://gist.github.com/clample/e3c51bf8026098fded9628d3e0ee7967\">https://gist.github.com/clample/e3c51bf8026098fded9628d3e0ee7967</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 192728706,
            "is_me_message": false,
            "last_edit_timestamp": 1585862765,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "clample@crimson.ua.edu",
            "sender_full_name": "Chris Lample (he) (W2'17)",
            "sender_id": 100452,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Ubuntu Dual Boot",
            "submessages": [],
            "timestamp": 1585862718,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/6263e852a5789e39c4bacd700eeba2cce3fe6f8f?x=x&version=5",
            "client": "website",
            "content": "<p>thanks for sharing!</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 193093344,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "1f642",
                    "emoji_name": "slight_smile",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "clample@crimson.ua.edu",
                        "full_name": "Chris Lample (he) (W2'17)",
                        "id": 100452
                    },
                    "user_id": 100452
                }
            ],
            "recipient_id": 103227,
            "sender_email": "nathanisom27@gmail.com",
            "sender_full_name": "Nathan Isom (he) (W2'20)",
            "sender_id": 255190,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Ubuntu Dual Boot",
            "submessages": [],
            "timestamp": 1586203216,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>bumping this - i feel like this shouldn't be a hard thing to get working, but somehow it is?</p>\n<p>this is what i'm seeing:</p>\n<div class=\"codehilite\"><pre><span></span>[root@server-main:~]# systemctl status acme-wesleyac.com.service\nWARNING: terminal is not fully functional\n-  (press RETURN)\u25cf acme-wesleyac.com.service - Renew ACME Certificate for wesleyac.com\n   Loaded: loaded (/nix/store/xany60vd3divrcsrs7s6lhsd67jbdp2g-unit-acme-wesleyac.com.service/acme-wesleyac.com.service; linked; vendor preset: enabled)\n   Active: failed (Result: exit-code) since Tue 2020-04-07 19:03:24 UTC; 43s ago\n  Process: 2237 ExecStart=/nix/store/w1805nr49w0ngjv0ipp9bsq247f83asy-simp_le-client-0.16.0/bin/simp_le -v -d wesleyac.com --default_root /var/lib/acme/acme-challenge --valid_min 2592000 --email me@wesleyac.com &gt;\n  Process: 2251 ExecStopPost=/nix/store/si20pwflnmjqjzfr99c1bfi1zgzid8nd-acme-post-stop (code=exited, status=0/SUCCESS)\n Main PID: 2237 (code=exited, status=2)\n       IP: 12.0K in, 8.8K out\n      CPU: 1.996s\n\nApr 07 19:03:24 server-main simp_le[2237]:     pems = [self.dump_cert(data.cert)]\nApr 07 19:03:24 server-main simp_le[2237]:   File &quot;/nix/store/w1805nr49w0ngjv0ipp9bsq247f83asy-simp_le-client-0.16.0/lib/python3.7/site-packages/simp_le.py&quot;, line 468, in dump_cert\nApr 07 19:03:24 server-main simp_le[2237]:     return OpenSSL.crypto.dump_certificate(self.typ, data.wrapped).strip()\nApr 07 19:03:24 server-main simp_le[2237]: AttributeError: &#39;NoneType&#39; object has no attribute &#39;wrapped&#39;\nApr 07 19:03:24 server-main simp_le[2237]: Unhandled error has happened, traceback is above\nApr 07 19:03:24 server-main simp_le[2237]: Debugging tips: -v improves output verbosity. Help is available under --help.\nApr 07 19:03:24 server-main systemd[1]: acme-wesleyac.com.service: Main process exited, code=exited, status=2/INVALIDARGUMENT\nApr 07 19:03:24 server-main systemd[1]: acme-wesleyac.com.service: Failed with result &#39;exit-code&#39;.\nApr 07 19:03:24 server-main systemd[1]: Failed to start Renew ACME Certificate for wesleyac.com.\nApr 07 19:03:24 server-main systemd[1]: acme-wesleyac.com.service: Consumed 1.996s CPU time, received 12.0K IP traffic, sent 8.8K IP traffic.\n</pre></div>\n\n\n<p>however, the same setup for <code>hack.wesleyac.com</code> works fine :/</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 193233150,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "renewing acme cert with multiple nginx vhosts",
            "submessages": [],
            "timestamp": 1586286325,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>ah, i notice that my <code>hack.wesleyac.com</code> <code>main.nix</code> file only has one nginx vhost, but the <code>wesleyac.com</code> one has two (<code>wesleyac.com</code> and <code>www.wesleyac.com</code>), which explains why temporarily taking out <code>hack.wesleyac.com</code> doesn't make renewal for <code>wesleyac.com</code> work. however, i'm rate limited by let's encrypt now, so i need to wait an hour before trying again...</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 193233737,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "renewing acme cert with multiple nginx vhosts",
            "submessages": [],
            "timestamp": 1586286582,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>hmm, at least part of the problem is that:</p>\n<div class=\"codehilite\"><pre><span></span>services.nginx.virtualHosts.&quot;wesleyac.com&quot;.extraConfig = &quot;return 301 https://blog.wesleyac.com;&quot;;\n</pre></div>\n\n\n<p>breaks renewing https certs :/</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 193235956,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "renewing acme cert with multiple nginx vhosts",
            "submessages": [],
            "timestamp": 1586287593,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p>can an ISO contain itself?</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">{</span> nixpkgs <span class=\"o\">?</span> <span class=\"l\">&lt;nixpkgs&gt;</span><span class=\"p\">,</span> system <span class=\"o\">?</span> <span class=\"s2\">&quot;x86_64-linux&quot;</span> <span class=\"p\">}</span> <span class=\"p\">:</span>\n\n<span class=\"k\">let</span>\n  <span class=\"ss\">config =</span> <span class=\"p\">{</span> <span class=\"o\">...</span> <span class=\"p\">}:</span>\n    <span class=\"p\">{</span>\n      <span class=\"ss\">imports =</span> <span class=\"p\">[</span> <span class=\"l\">&lt;nixpkgs/nixos/modules/installer/cd-dvd/installation-cd-minimal.nix&gt;</span> <span class=\"p\">];</span>\n\n      <span class=\"c1\"># cannot be uncommented without an infinite recursion</span>\n      <span class=\"c1\"># environment.variables.IMAGE = /. + image;</span>\n    <span class=\"p\">};</span>\n  <span class=\"ss\">evalNixos =</span> configuration<span class=\"p\">:</span> <span class=\"nb\">import</span> <span class=\"l\">&lt;nixpkgs/nixos&gt;</span> <span class=\"p\">{</span>\n    <span class=\"k\">inherit</span> system configuration<span class=\"p\">;</span>\n  <span class=\"p\">};</span>\n\n  <span class=\"ss\">image =</span> <span class=\"p\">(</span>evalNixos config<span class=\"p\">)</span><span class=\"o\">.</span>config<span class=\"o\">.</span>system<span class=\"o\">.</span>build<span class=\"o\">.</span>isoImage<span class=\"p\">;</span>\n<span class=\"k\">in</span> <span class=\"p\">{</span>\n  <span class=\"ss\">iso =</span> image<span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>Background: following <a href=\"https://github.com/drduh/YubiKey-Guide#nixos\" title=\"https://github.com/drduh/YubiKey-Guide#nixos\">this guide</a> to create a nix system for offline gpg keys. It would be useful to have a stick that booted up a functional enough system with the capability to generate gpg keys offline, where 'functional enough' means \"can install the image it was installed with onto other sticks for redundancy\"</p>\n<p>Sure, I can just provision these up front for 5 sticks, but this is probably a problem others will enjoy solving. I don't think there is a solution, but I'm happy to be shown one.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 195135286,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "an iso containing itself",
            "submessages": [],
            "timestamp": 1587687752,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>Fixed point combinator attempt:</p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">{</span> nixpkgs <span class=\"o\">?</span> <span class=\"l\">&lt;nixpkgs&gt;</span><span class=\"p\">,</span> system <span class=\"o\">?</span> <span class=\"s2\">&quot;x86_64-linux&quot;</span> <span class=\"p\">}</span> <span class=\"p\">:</span>\n\n<span class=\"k\">let</span>\n  <span class=\"ss\">fix =</span> f<span class=\"p\">:</span> <span class=\"k\">let</span> <span class=\"ss\">x =</span> f x<span class=\"p\">;</span> <span class=\"k\">in</span> x<span class=\"p\">;</span>\n\n  <span class=\"ss\">configFromImage =</span> image<span class=\"p\">:</span> <span class=\"k\">let</span>\n    <span class=\"ss\">configuration =</span> <span class=\"p\">{</span> <span class=\"o\">...</span> <span class=\"p\">}:</span> <span class=\"p\">{</span>\n      <span class=\"ss\">imports =</span> <span class=\"p\">[</span>\n        <span class=\"l\">&lt;nixpkgs/nixos/modules/installer/cd-dvd/installation-cd-minimal.nix&gt;</span>\n      <span class=\"p\">];</span>\n\n      environment<span class=\"o\">.</span>variables<span class=\"o\">.</span><span class=\"ss\">IMAGE =</span> <span class=\"l\">/.</span> <span class=\"o\">+</span> image<span class=\"p\">;</span>\n    <span class=\"p\">};</span>\n\n    <span class=\"ss\">appliedSystem =</span> <span class=\"nb\">import</span> <span class=\"l\">&lt;nixpkgs/nixos&gt;</span> <span class=\"p\">{</span>\n      <span class=\"k\">inherit</span> system configuration<span class=\"p\">;</span>\n    <span class=\"p\">};</span>\n  <span class=\"k\">in</span> appliedSystem<span class=\"o\">.</span>config<span class=\"o\">.</span>system<span class=\"o\">.</span>build<span class=\"o\">.</span>isoImage<span class=\"p\">;</span>\n\n<span class=\"k\">in</span> <span class=\"p\">{</span>\n  <span class=\"ss\">iso =</span> fix configFromImage<span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 195234930,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "an iso containing itself",
            "submessages": [],
            "timestamp": 1587756926,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>(this also recurses indefinitely)</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 195235039,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "an iso containing itself",
            "submessages": [],
            "timestamp": 1587756966,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>Finally, using the converge function defined in <a href=\"https://github.com/NixOS/nixpkgs/blob/master/lib/fixed-points.nix\" title=\"https://github.com/NixOS/nixpkgs/blob/master/lib/fixed-points.nix\">https://github.com/NixOS/nixpkgs/blob/master/lib/fixed-points.nix</a></p>\n<div class=\"codehilite\"><pre><span></span><span class=\"p\">{</span> nixpkgs <span class=\"o\">?</span> <span class=\"l\">&lt;nixpkgs&gt;</span><span class=\"p\">,</span> system <span class=\"o\">?</span> <span class=\"s2\">&quot;x86_64-linux&quot;</span> <span class=\"p\">}</span> <span class=\"p\">:</span>\n\n<span class=\"k\">let</span>\n  <span class=\"ss\">converge =</span> f<span class=\"p\">:</span> x<span class=\"p\">:</span>\n    <span class=\"k\">let</span>\n      x&#39; <span class=\"o\">=</span> f x<span class=\"p\">;</span>\n    <span class=\"k\">in</span>\n      <span class=\"k\">if</span> x&#39; <span class=\"o\">==</span> x\n      <span class=\"k\">then</span> x\n      <span class=\"k\">else</span> converge f x&#39;<span class=\"p\">;</span>\n\n  <span class=\"ss\">baseImage =</span> image<span class=\"p\">:</span> <span class=\"k\">let</span>\n    <span class=\"ss\">configuration =</span> <span class=\"p\">{</span> <span class=\"o\">...</span> <span class=\"p\">}:</span> <span class=\"p\">{</span>\n      <span class=\"ss\">imports =</span> <span class=\"p\">[</span>\n        <span class=\"l\">&lt;nixpkgs/nixos/modules/installer/cd-dvd/installation-cd-minimal.nix&gt;</span>\n      <span class=\"p\">];</span>\n\n      environment<span class=\"o\">.</span>variables<span class=\"o\">.</span><span class=\"ss\">IMAGE =</span> <span class=\"s2\">&quot;</span><span class=\"si\">${</span>image<span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">;</span>\n    <span class=\"p\">};</span>\n\n    <span class=\"ss\">applied =</span> <span class=\"nb\">import</span> <span class=\"l\">&lt;nixpkgs/nixos&gt;</span> <span class=\"p\">{</span>\n      <span class=\"k\">inherit</span> system configuration<span class=\"p\">;</span>\n    <span class=\"p\">};</span>\n  <span class=\"k\">in</span> applied<span class=\"o\">.</span>config<span class=\"o\">.</span>system<span class=\"o\">.</span>build<span class=\"o\">.</span>isoImage<span class=\"p\">;</span>\n\n<span class=\"k\">in</span> <span class=\"p\">{</span>\n  <span class=\"ss\">iso =</span> converge baseImage <span class=\"s2\">&quot;dummyPath&quot;</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</pre></div>\n\n\n<p>This _doesn't_ crash immediately: my fans spin up and there's no build output. My best guess is that we just evaluate a chain of derivations going all the way down to the first dummy one, and we'll never stop since each ISO has an n-1 ISO in it that's _slightly_ different which fails the check forever. Maybe there's some TCO that's happening here.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 195241769,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "an iso containing itself",
            "submessages": [],
            "timestamp": 1587760673,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>(I just went with <a href=\"https://github.com/alphor/machines/blob/master/gpg-live-cd/default.nix\" title=\"https://github.com/alphor/machines/blob/master/gpg-live-cd/default.nix\">an image inside of an image</a>)</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 195740399,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "an iso containing itself",
            "submessages": [],
            "timestamp": 1588179769,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p>I have a single vhost, but I set forceSSL, and it just works:</p>\n<div class=\"codehilite\"><pre><span></span><code>~$ curl -I jarmac.org\nHTTP/1.1 301 Moved Permanently\nServer: nginx\nDate: Wed, 29 Apr 2020 20:18:34 GMT\nContent-Type: text/html\nContent-Length: 178\nConnection: keep-alive\nLocation: https://jarmac.org/\n</code></pre></div>\n\n\n<p>Config:</p>\n<div class=\"codehilite\"><pre><span></span><code>  services<span class=\"o\">.</span><span class=\"ss\">nginx =</span> <span class=\"k\">let</span>\n    <span class=\"ss\">hostname =</span> config<span class=\"o\">.</span>networking<span class=\"o\">.</span>hostName<span class=\"p\">;</span>\n  <span class=\"k\">in</span>\n  <span class=\"p\">{</span>\n    <span class=\"ss\">enable =</span> <span class=\"no\">true</span><span class=\"p\">;</span>\n    <span class=\"ss\">virtualHosts =</span> <span class=\"p\">{</span>\n      <span class=\"s2\">&quot;</span><span class=\"si\">${</span>hostname<span class=\"si\">}</span><span class=\"s2\">&quot;</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n        <span class=\"ss\">forceSSL =</span> <span class=\"no\">true</span><span class=\"p\">;</span>\n        <span class=\"ss\">enableACME =</span> <span class=\"no\">true</span><span class=\"p\">;</span>\n        <span class=\"ss\">serverAliases =</span> <span class=\"p\">[</span> <span class=\"s2\">&quot;www.</span><span class=\"si\">${</span>hostname<span class=\"si\">}</span><span class=\"s2\">&quot;</span> <span class=\"p\">];</span>\n        locations<span class=\"o\">.</span><span class=\"s2\">&quot;/&quot;</span> <span class=\"o\">=</span> <span class=\"p\">{</span>\n          <span class=\"ss\">root =</span> <span class=\"s2\">&quot;</span><span class=\"si\">${</span>nginxRootPath<span class=\"si\">}</span><span class=\"s2\">&quot;</span><span class=\"p\">;</span>\n        <span class=\"p\">};</span>\n      <span class=\"p\">};</span>\n    <span class=\"p\">};</span>\n  <span class=\"p\">};</span>\n</code></pre></div>\n\n\n<p>Granted this is a single host (though it's merged with other hosts that don't use ACME).</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 195764823,
            "is_me_message": false,
            "last_edit_timestamp": 1588191993,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "renewing acme cert with multiple nginx vhosts",
            "submessages": [],
            "timestamp": 1588191714,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>i think forceSSL is orthogonal to my problem - i have it set for some of my sites as well, but my understanding is that it just impacts the behaviour of port 80, and shouldn't effect the renewal mechanism.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 195766067,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "renewing acme cert with multiple nginx vhosts",
            "submessages": [],
            "timestamp": 1588192365,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p>it does what I think you're doing with the extraConfig line, and is ACME aware: <a href=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/modules/services/web-servers/nginx/default.nix#L237-L246\" title=\"https://github.com/NixOS/nixpkgs/blob/master/nixos/modules/services/web-servers/nginx/default.nix#L237-L246\">https://github.com/NixOS/nixpkgs/blob/master/nixos/modules/services/web-servers/nginx/default.nix#L237-L246</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 195766710,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "renewing acme cert with multiple nginx vhosts",
            "submessages": [],
            "timestamp": 1588192706,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>ah! not quite, that extraConfig line is redirecting <code>wesleyac.com</code> to <code>https://blog.wesleyac.com</code></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 195766888,
            "is_me_message": false,
            "last_edit_timestamp": 1588192825,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "renewing acme cert with multiple nginx vhosts",
            "submessages": [],
            "timestamp": 1588192807,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p>Oh, you want to redirect everything that isn't acme challenges to the blog subdomain.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 195767153,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "renewing acme cert with multiple nginx vhosts",
            "submessages": [],
            "timestamp": 1588192980,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>yeah</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 195767282,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "renewing acme cert with multiple nginx vhosts",
            "submessages": [],
            "timestamp": 1588193045,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a2cc22089e70c6b1e9a84d91ac82118ab06aa82a?x=x&version=2",
            "client": "website",
            "content": "<p>I'm playing with Guix now. I bounced off Nix <a href=\"https://push.cx/2018/nixos\">pretty hard</a> despite some generous help from Vaibhav.</p>\n<p>I'm working through the manual and everything nearly Just Works. I couldn't get hello world to build on Nix (bug's <a href=\"https://github.com/NixOS/nix/issues/2259\">still open</a> two years later); Guix had the same first example and worked on the first try. The docs are clear (though they do have that GNU/Attitude where they occasionally do some bizarre/smug thing and act like it's normal) and so far comprehensive. I've gotten the system installed on my regular Arch linux box and am tinkering with my first packages. I'd like to eventually be able to package Rails sites.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 197270654,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "1f44d",
                    "emoji_name": "+1",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "jamie@scattered-thoughts.net",
                        "full_name": "Jamie Brandon (he) (W1'20)",
                        "id": 863
                    },
                    "user_id": 863
                },
                {
                    "emoji_code": "1f44d",
                    "emoji_name": "+1",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "nathanisom27@gmail.com",
                        "full_name": "Nathan Isom (he) (W2'20)",
                        "id": 255190
                    },
                    "user_id": 255190
                },
                {
                    "emoji_code": "1f44d",
                    "emoji_name": "+1",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "clample@crimson.ua.edu",
                        "full_name": "Chris Lample (he) (W2'17)",
                        "id": 100452
                    },
                    "user_id": 100452
                }
            ],
            "recipient_id": 103227,
            "sender_email": "peter@push.cx",
            "sender_full_name": "Peter Bhat Harkins (he) (F2'17)",
            "sender_id": 102004,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "guix?",
            "submessages": [],
            "timestamp": 1589288165,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p>Primary aversion to using guix is because there just isn't the community around it, which admittedly is self fulfilling (though I haven't contributed to nixpkgs at all anyway).</p>\n<blockquote>\n<p>\"If a Nix file ./foo.nix starts with something like { bar, baz }:, you can build it with nix-build -E '(import &lt;nixpkgs&gt; {}).callPackage ./foo.nix {}'\" </p>\n</blockquote>\n<p>This might've been better said as \"if a file starts with { bar, baz}: then it is a function, and evaluating it with arguments might give you a derivation which nix-build can realize\" (which is what that -E arg does).</p>\n<p>A great intro is given by John Wiegley here: <a href=\"https://youtu.be/G9yiJ7d5LeI?t=220\">https://youtu.be/G9yiJ7d5LeI?t=220</a> (until 8 minutes in where it's just haskell specific workflows). That said, you've already written the blog post so it is too late, lol.</p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"G9yiJ7d5LeI\" href=\"https://youtu.be/G9yiJ7d5LeI?t=220\"><img src=\"https://i.ytimg.com/vi/G9yiJ7d5LeI/default.jpg\"></a></div>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 197424221,
            "is_me_message": false,
            "last_edit_timestamp": 1589391459,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "guix?",
            "submessages": [],
            "timestamp": 1589381712,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/7d2ab014ebf55e99afffba1a3d92be8155754f0f?x=x&version=1",
            "client": "website",
            "content": "<blockquote>\n<p>that GNU/Attitude where they occasionally do some bizarre/smug thing and act like it's normal</p>\n</blockquote>\n<p>This is definitely a concern I have. The other is that I have more pressing things than trying out niche linux distributions :/</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 197494026,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "kamal@marhubi.com",
            "sender_full_name": "Kamal Marhubi (he) (m2'18)",
            "sender_id": 8090,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "guix?",
            "submessages": [],
            "timestamp": 1589415554,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/0aac726e8ce27b55809824e7f6de77e7?d=identicon&version=1",
            "client": "website",
            "content": "<p>I took another look at guix system because the idea really does appeal to me, but I bounced again because:</p>\n<ul>\n<li>there is no open-source driver for my wifi card and they don't package proprietary drivers</li>\n<li>they don't package firefox (because of the trademarks) and their icecat package often lags behind firefox security patches</li>\n<li>I'm a bit suspicious that shepherd and guix deploy will be flaky eg last time I looked guix deploy didn't restart shepherd processes whose config has changed</li>\n</ul>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 197494836,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "jamie@scattered-thoughts.net",
            "sender_full_name": "Jamie Brandon (he) (W1'20)",
            "sender_id": 863,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "guix?",
            "submessages": [],
            "timestamp": 1589416271,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/0aac726e8ce27b55809824e7f6de77e7?d=identicon&version=1",
            "client": "website",
            "content": "<p>I might try to build a pinephone image though, since <a href=\"https://fosdem.org/2020/schedule/event/ggaaattyp/attachments/slides/3965/export/events/attachments/ggaaattyp/slides/3965/talk.pdf\">https://fosdem.org/2020/schedule/event/ggaaattyp/attachments/slides/3965/export/events/attachments/ggaaattyp/slides/3965/talk.pdf</a> targets a similar SoC and makes it look really easy</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 197494922,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "jamie@scattered-thoughts.net",
            "sender_full_name": "Jamie Brandon (he) (W1'20)",
            "sender_id": 863,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "guix?",
            "submessages": [],
            "timestamp": 1589416337,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/6640d94860cd540ca4ab88d3314293376b89197d?x=x&version=2",
            "client": "ZulipElectron",
            "content": "<p>The non-guix channel offers non-free firmware and drivers. Check it out. <br>\n<a href=\"https://gitlab.com/nonguix/nonguix\">https://gitlab.com/nonguix/nonguix</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 197498386,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "1f44d",
                    "emoji_name": "+1",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "jamie@scattered-thoughts.net",
                        "full_name": "Jamie Brandon (he) (W1'20)",
                        "id": 863
                    },
                    "user_id": 863
                }
            ],
            "recipient_id": 103227,
            "sender_email": "gnusosa.mx@gmail.com",
            "sender_full_name": "Carlos Sosa (he) (SP2'20)",
            "sender_id": 276586,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "guix?",
            "submessages": [],
            "timestamp": 1589420092,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/ee5ef8c4705125cfdc43e7d1569c684c58cb518b?x=x&version=2",
            "client": "ZulipElectron",
            "content": "<p>I'm going to try to get a NixOS users group running while I'm in batch. </p>\n<p>All levels of Nix expeirence (including zero!!!) are welcome!</p>\n<p>If anyone is interested, join me tomorrow at 4pm Eastern at the Library: <a href=\"https://www.recurse.com/calendar/10374\">https://www.recurse.com/calendar/10374</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 197983745,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "2744",
                    "emoji_name": "snowflake",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "shae.erisson@gmail.com",
                        "full_name": "Shae Matijs Erisson (he) (F1'19)",
                        "id": 221819
                    },
                    "user_id": 221819
                },
                {
                    "emoji_code": "2744",
                    "emoji_name": "snowflake",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "nathanisom27@gmail.com",
                        "full_name": "Nathan Isom (he) (W2'20)",
                        "id": 255190
                    },
                    "user_id": 255190
                },
                {
                    "emoji_code": "1100",
                    "emoji_name": "lambda",
                    "reaction_type": "realm_emoji",
                    "user": {
                        "email": "vaibhavsagar@gmail.com",
                        "full_name": "Vaibhav Sagar (he) (F1'16)",
                        "id": 100041
                    },
                    "user_id": 100041
                },
                {
                    "emoji_code": "2744",
                    "emoji_name": "snowflake",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "vaibhavsagar@gmail.com",
                        "full_name": "Vaibhav Sagar (he) (F1'16)",
                        "id": 100041
                    },
                    "user_id": 100041
                }
            ],
            "recipient_id": 103227,
            "sender_email": "maxim@ontoillogical.com",
            "sender_full_name": "Max Veytsman (he) (S1'20)",
            "sender_id": 5875,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "NixOS users group",
            "submessages": [],
            "timestamp": 1589829769,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>I'm timezone-challenged and can't make this, but here's a Nix talk I did if people are interested: <a href=\"https://www.youtube.com/watch?v=P1gE68ESWYE\">https://www.youtube.com/watch?v=P1gE68ESWYE</a></p>\n<div class=\"youtube-video message_inline_image\"><a data-id=\"P1gE68ESWYE\" href=\"https://www.youtube.com/watch?v=P1gE68ESWYE\"><img src=\"https://i.ytimg.com/vi/P1gE68ESWYE/default.jpg\"></a></div>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 198019333,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "NixOS users group",
            "submessages": [],
            "timestamp": 1589859797,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/ee5ef8c4705125cfdc43e7d1569c684c58cb518b?x=x&version=2",
            "client": "ZulipElectron",
            "content": "<p>Thanks for sharing!</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 198094109,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "2764",
                    "emoji_name": "heart",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "vaibhavsagar@gmail.com",
                        "full_name": "Vaibhav Sagar (he) (F1'16)",
                        "id": 100041
                    },
                    "user_id": 100041
                }
            ],
            "recipient_id": 103227,
            "sender_email": "maxim@ontoillogical.com",
            "sender_full_name": "Max Veytsman (he) (S1'20)",
            "sender_id": 5875,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "NixOS users group",
            "submessages": [],
            "timestamp": 1589906752,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>Thanks for organizing!</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 198123074,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "2764",
                    "emoji_name": "heart",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "maxim@ontoillogical.com",
                        "full_name": "Max Veytsman (he) (S1'20)",
                        "id": 5875
                    },
                    "user_id": 5875
                }
            ],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "NixOS users group",
            "submessages": [],
            "timestamp": 1589920528,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p><a href=\"https://engineering.shopify.com/blogs/engineering/what-is-nix\">https://engineering.shopify.com/blogs/engineering/what-is-nix</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 198341607,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "1f44d",
                    "emoji_name": "+1",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "shae.erisson@gmail.com",
                        "full_name": "Shae Matijs Erisson (he) (F1'19)",
                        "id": 221819
                    },
                    "user_id": 221819
                },
                {
                    "emoji_code": "1f44d",
                    "emoji_name": "+1",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "pmmhy4@mst.edu",
                        "full_name": "Patrick McCarver (they/he) (SP1'19)",
                        "id": 134599
                    },
                    "user_id": 134599
                }
            ],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "shopify + nix",
            "submessages": [],
            "timestamp": 1590078029,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/ef039ebebe21b975d2459f92aa693722?d=identicon&version=1",
            "client": "ZulipElectron",
            "content": "<p>The nixology videos linked were a really nice intro: <a href=\"https://www.youtube.com/playlist?list=PLRGI9KQ3_HP_OFRG6R-p4iFgMSK1t5BHs\">https://www.youtube.com/playlist?list=PLRGI9KQ3_HP_OFRG6R-p4iFgMSK1t5BHs</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 198351645,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "aaronstrick@gmail.com",
            "sender_full_name": "Aaron Strick (he) (F2'18)",
            "sender_id": 129958,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "shopify + nix",
            "submessages": [],
            "timestamp": 1590082552,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/6263e852a5789e39c4bacd700eeba2cce3fe6f8f?x=x&version=5",
            "client": "website",
            "content": "<p>really enjoyed this comment about nix-shell multi-line shebangs: <a href=\"https://lobste.rs/s/ojiulv/deprecated_nix_api#c_zdmma7\">https://lobste.rs/s/ojiulv/deprecated_nix_api#c_zdmma7</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 198445525,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "2744",
                    "emoji_name": "snowflake",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "vaibhavsagar@gmail.com",
                        "full_name": "Vaibhav Sagar (he) (F1'16)",
                        "id": 100041
                    },
                    "user_id": 100041
                }
            ],
            "recipient_id": 103227,
            "sender_email": "nathanisom27@gmail.com",
            "sender_full_name": "Nathan Isom (he) (W2'20)",
            "sender_id": 255190,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "nix-shell shebangs",
            "submessages": [],
            "timestamp": 1590156629,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>It's <a href=\"https://github.com/vaibhavsagar/notebooks/blob/00553935611a8955ce1d9c4fc37e828b4ed1338d/hs-updater/updater.hs#L1-L4\">a pretty great trick</a>.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 198464741,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "nix-shell shebangs",
            "submessages": [],
            "timestamp": 1590165872,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/833ed696bb4b9faaa8adbba9e8a2d9a8?d=identicon&version=1",
            "client": "website",
            "content": "<p>Hi, I have a question about nix. I'm just learning nix, and as an exercise I want to use nix to build/distribute a game I've written that uses OpenGL. The ideal outcome would be a statically linked binary that \"just works\". My question is whether or not this is feasible.</p>\n<p>I'm having some doubts about feasibility because of a hitch I've run into: so far, the game builds and runs on NixOS and builds on Arch Linux, but when run on Arch Linux it segfaults unless run under <code>nixGL</code>. This is concerning to me because I wouldn't want people to have to install <code>nixGL</code> and choose the proper graphics driver in order to run the binary -- but I don't know anything about <code>nixGL</code> so maybe there's an easy way and it's not so bad?</p>\n<p>More details:</p>\n<ul>\n<li>To build the game I've pinned nixpkgs to a recent commit of the <code>nixos-20.03</code> channel</li>\n<li>The game is written in Haskell using the <code>gl</code> and <code>GLFW-b</code> libraries</li>\n</ul>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 199175976,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "awchen@fastmail.com",
            "sender_full_name": "Alex Chen (he) (SP1'20)",
            "sender_id": 264095,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Building/distributing a game with nix",
            "submessages": [],
            "timestamp": 1590768731,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/0aac726e8ce27b55809824e7f6de77e7?d=identicon&version=1",
            "client": "website",
            "content": "<p>Producing portable binaries for games on linux is surprisingly hard (eg <a href=\"https://blog.gibson.sh/2017/11/26/creating-portable-linux-binaries/\">https://blog.gibson.sh/2017/11/26/creating-portable-linux-binaries/</a>). </p>\n<p>libGL is the interface between your program and the specific graphics card on each machine. It varies across different machines, so it's not all that useful to statically link it unless you are only targeting one specific device. You _can_ statically link something like mesa which does cpu emulation of opengl, but that's typically pretty slow.</p>\n<p>Also, in general, binaries compiled using nix tend to only run under nix unless you statically link everything or do some extra work to set common rpaths. So I would guess that the easiest way forwards is to dynamically link everything and then use <code>patchelf --set-rpath $WHEREVER_LIBGL_USUALLY_LIVES_ON_MOST_DISTROS my_game</code>.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 199195913,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "jamie@scattered-thoughts.net",
            "sender_full_name": "Jamie Brandon (he) (W1'20)",
            "sender_id": 863,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Building/distributing a game with nix",
            "submessages": [],
            "timestamp": 1590778162,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/0aac726e8ce27b55809824e7f6de77e7?d=identicon&version=1",
            "client": "website",
            "content": "<p>But personally I would probably be lazy and just tell people to <code>nix-env -i http://.../my_game.nix &amp;&amp; nixGL my_game</code>.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 199196102,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "jamie@scattered-thoughts.net",
            "sender_full_name": "Jamie Brandon (he) (W1'20)",
            "sender_id": 863,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Building/distributing a game with nix",
            "submessages": [],
            "timestamp": 1590778253,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/833ed696bb4b9faaa8adbba9e8a2d9a8?d=identicon&version=1",
            "client": "website",
            "content": "<p>The link, the background on libGL and nix, and your advice are all very helpful, thanks a ton!</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 199234747,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "awchen@fastmail.com",
            "sender_full_name": "Alex Chen (he) (SP1'20)",
            "sender_id": 264095,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Building/distributing a game with nix",
            "submessages": [],
            "timestamp": 1590807945,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/ee5ef8c4705125cfdc43e7d1569c684c58cb518b?x=x&version=2",
            "client": "ZulipElectron",
            "content": "<p>I created another event for this tomorrow: <a href=\"https://www.recurse.com/calendar/10645?date=2020-5-31\">https://www.recurse.com/calendar/10645?date=2020-5-31</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 199402808,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "16608",
                    "emoji_name": "nix",
                    "reaction_type": "realm_emoji",
                    "user": {
                        "email": "mnoronha@uchicago.edu",
                        "full_name": "Michael Noronha (he) (S2'20)",
                        "id": 101318
                    },
                    "user_id": 101318
                },
                {
                    "emoji_code": "16608",
                    "emoji_name": "nix",
                    "reaction_type": "realm_emoji",
                    "user": {
                        "email": "vaibhavsagar@gmail.com",
                        "full_name": "Vaibhav Sagar (he) (F1'16)",
                        "id": 100041
                    },
                    "user_id": 100041
                }
            ],
            "recipient_id": 103227,
            "sender_email": "maxim@ontoillogical.com",
            "sender_full_name": "Max Veytsman (he) (S1'20)",
            "sender_id": 5875,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "NixOS users group",
            "submessages": [],
            "timestamp": 1591034822,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>Anyone familiar with the process of serving something like a flask server  with nix? I guess I need wsgi, and I found this minimal example with uwsgi: <a href=\"https://github.com/NixOS/nixpkgs/blob/a5c3e147855db4439c59f8c5320895509687c73c/nixos/tests/uwsgi.nix#L18\">link</a>. My understanding breaks down almost immediately though -- the first thing I tried was to point to the directory of my server instead of creating one in the store <code>writeTextDir</code>.  This doesn't work though, since the server directory isn't in the store. </p>\n<p>For a bit more context, I've been working within a <code>nix-shell</code>, but my current <code>shell.nix</code> isn't a full description of the environment the server needs to run -- I also have an external git repo and some python packages in a virtual env (the second I think is really easy to add to the <code>shell.nix</code>). In irc someone mentioned a possible solution of writing a derivation and building it so things end up in the store? This seems doable. Someone also mentioned something about mutable paths, but I'm not sure what they were referring to. Does the first sounds like a reasonable path? I think once I get my code in the store, I have a pretty good idea of what to do</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 201359891,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "serving a small python server",
            "submessages": [],
            "timestamp": 1592551996,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>The file you link to configures the NixOS uWSGI service to provide a Flask server, are you also using NixOS?</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 201371932,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "serving a small python server",
            "submessages": [],
            "timestamp": 1592561261,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>I was able to launch uWSGI with this <code>shell.nix</code>:</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"k\">let</span>\n  <span class=\"ss\">pkgs =</span> <span class=\"nb\">import</span> <span class=\"l\">&lt;nixpkgs&gt;</span> <span class=\"p\">{};</span>\n<span class=\"k\">in</span> pkgs<span class=\"o\">.</span>mkShell <span class=\"p\">{</span>\n  <span class=\"ss\">buildInputs =</span> <span class=\"p\">[</span> <span class=\"p\">(</span>pkgs<span class=\"o\">.</span>python3<span class=\"o\">.</span>withPackages <span class=\"p\">(</span>p<span class=\"p\">:</span> <span class=\"p\">[</span> p<span class=\"o\">.</span>flask <span class=\"p\">]))</span> <span class=\"p\">(</span>pkgs<span class=\"o\">.</span>uwsgi<span class=\"o\">.</span>override <span class=\"p\">{</span> <span class=\"ss\">plugins =</span> <span class=\"p\">[</span><span class=\"s2\">&quot;python3&quot;</span><span class=\"p\">];</span> <span class=\"p\">})</span> <span class=\"p\">];</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n\n<p>and an incantation like this:</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"o\">[</span>nix-shell<span class=\"o\">]</span>$ uwsgi --http :9090 --plugin /nix/store/5hvahm6q3zc6d903bs7w4m76fv5n6s3n-uwsgi-2.0.18/lib/uwsgi/python3_plugin.so --wsgi-file wsgi.py --callable application\n</code></pre></div>\n\n\n<p>(I found the path to the python plugin by looking at the output of <code>$(which uwsgi)</code> to get the right store path.)</p>\n<p>I wasn't able to actually view the page though, I got an error saying something about \"no python application found\", but that's probably because I haven't ever used uWSGI before. Hopefully this still helps.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 201379171,
            "is_me_message": false,
            "last_edit_timestamp": 1592567188,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "serving a small python server",
            "submessages": [],
            "timestamp": 1592567153,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>If you want to use the service approach as above, you should be able to just put the path to the directory where your code is in <code>chdir</code>, IIUC that will put it in the store. You'll also need to update <code>pythonPackages</code> with your other dependencies.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 201379947,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "serving a small python server",
            "submessages": [],
            "timestamp": 1592567731,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>Ok amazing, this is really helpful!! I got this running from the command line, so now I'll try getting the service approach working</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 201432757,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "serving a small python server",
            "submessages": [],
            "timestamp": 1592595976,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>And yep, using NixOS</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 201432782,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "serving a small python server",
            "submessages": [],
            "timestamp": 1592595993,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>Amazing -- a minimal example as a service worked really quickly. Now the only thing left to specify all my dependencies so I can run the full app</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 201434147,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "serving a small python server",
            "submessages": [],
            "timestamp": 1592596838,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>Okay, so I made progress a few times but am stuck on one last thing: when I set it up as a service, <code>flask</code> somehow doesn't get pulled in as a dependency, even though it works using basically the same config in a shell. This is the config I'm using:</p>\n<div class=\"codehilite\"><pre><span></span><code>  services<span class=\"o\">.</span>uwsgi<span class=\"o\">.</span><span class=\"ss\">instance =</span> <span class=\"p\">{</span>\n    <span class=\"ss\">type =</span> <span class=\"s2\">&quot;emperor&quot;</span><span class=\"p\">;</span>\n    vassals<span class=\"o\">.</span><span class=\"ss\">hello =</span> <span class=\"p\">{</span>\n      <span class=\"ss\">type =</span> <span class=\"s2\">&quot;normal&quot;</span><span class=\"p\">;</span>\n      <span class=\"ss\">master =</span> <span class=\"no\">true</span><span class=\"p\">;</span>\n      <span class=\"ss\">workers =</span> <span class=\"mi\">2</span><span class=\"p\">;</span>\n      <span class=\"ss\">http =</span> <span class=\"s2\">&quot;:8000&quot;</span><span class=\"p\">;</span>\n      <span class=\"ss\">module =</span> <span class=\"s2\">&quot;wsgi:app&quot;</span><span class=\"p\">;</span>\n      <span class=\"ss\">chdir =</span> <span class=\"l\">/home/mtn/Documents/workspace/minimals/poetry2nix-service-dependencies/labeler</span><span class=\"p\">;</span>\n      <span class=\"ss\">pythonPackages =</span> <span class=\"k\">let</span> <span class=\"ss\">poetry2nixOverlay =</span>\n        <span class=\"nb\">builtins</span><span class=\"o\">.</span>fetchGit <span class=\"p\">{</span>\n          <span class=\"ss\">ref =</span> <span class=\"s2\">&quot;master&quot;</span><span class=\"p\">;</span>\n          <span class=\"ss\">rev =</span> <span class=\"s2\">&quot;e7c69a288c10e4d97816fdabda5ae3f38e21914e&quot;</span><span class=\"p\">;</span>\n          <span class=\"ss\">url =</span> <span class=\"s2\">&quot;https://github.com/nix-community/poetry2nix&quot;</span><span class=\"p\">;</span>\n        <span class=\"p\">};</span>\n\n        <span class=\"ss\">pkgs =</span> <span class=\"nb\">import</span> <span class=\"l\">&lt;nixpkgs&gt;</span> <span class=\"p\">{</span> <span class=\"ss\">overlays =</span> <span class=\"p\">[</span> <span class=\"p\">(</span><span class=\"nb\">import</span> <span class=\"s2\">&quot;</span><span class=\"si\">${</span>poetry2nixOverlay<span class=\"si\">}</span><span class=\"s2\">/overlay.nix&quot;</span><span class=\"p\">)</span> <span class=\"p\">];</span> <span class=\"p\">};</span>\n\n        <span class=\"k\">inherit</span> <span class=\"p\">(</span>pkgs<span class=\"o\">.</span>poetry2nix<span class=\"p\">)</span> mkPoetryApplication<span class=\"p\">;</span>\n\n      <span class=\"k\">in</span> <span class=\"p\">(</span>self<span class=\"p\">:</span> <span class=\"p\">[</span> mkPoetryApplication <span class=\"p\">{</span>\n        <span class=\"ss\">projectDir =</span> <span class=\"l\">/home/mtn/Documents/workspace/minimals/poetry2nix-service-dependencies/labeler</span><span class=\"p\">;</span>\n      <span class=\"p\">}</span>  <span class=\"p\">]);</span>\n    <span class=\"p\">};</span>\n  <span class=\"p\">};</span>\n</code></pre></div>\n\n\n<p>The problematic part is the <code>pythonPackages</code> attribute -- if I add <code>flask</code> to the list explicitly, the service runs fine. However, it wouldn't need to be made explicit -- the <code>pyproject.toml</code> includes <code>flask</code>, and the if I write a derivation to build the application, <code>flask</code> is included in the <code>propagatedBuildInputs</code>:</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"k\">let</span>\n  <span class=\"ss\">poetry2nixOverlay =</span> <span class=\"nb\">builtins</span><span class=\"o\">.</span>fetchGit <span class=\"p\">{</span>\n    <span class=\"ss\">ref =</span> <span class=\"s2\">&quot;master&quot;</span><span class=\"p\">;</span>\n    <span class=\"ss\">rev =</span> <span class=\"s2\">&quot;e7c69a288c10e4d97816fdabda5ae3f38e21914e&quot;</span><span class=\"p\">;</span>\n    <span class=\"ss\">url =</span> <span class=\"s2\">&quot;https://github.com/nix-community/poetry2nix&quot;</span><span class=\"p\">;</span>\n  <span class=\"p\">};</span>\n\n  <span class=\"ss\">pkgs =</span> <span class=\"nb\">import</span> <span class=\"l\">&lt;nixpkgs&gt;</span> <span class=\"p\">{</span>\n    <span class=\"ss\">overlays =</span> <span class=\"p\">[</span> <span class=\"p\">(</span><span class=\"nb\">import</span> <span class=\"s2\">&quot;</span><span class=\"si\">${</span>poetry2nixOverlay<span class=\"si\">}</span><span class=\"s2\">/overlay.nix&quot;</span><span class=\"p\">)</span> <span class=\"p\">];</span>\n  <span class=\"p\">};</span>\n\n  <span class=\"k\">inherit</span> <span class=\"p\">(</span>pkgs<span class=\"o\">.</span>poetry2nix<span class=\"p\">)</span> mkPoetryApplication<span class=\"p\">;</span>\n\n<span class=\"k\">in</span> mkPoetryApplication <span class=\"p\">{</span>\n  <span class=\"ss\">projectDir =</span> <span class=\"o\">.</span><span class=\"l\">/.</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n\n<p>then in the repl:</p>\n<div class=\"codehilite\"><pre><span></span><code>nix-repl&gt; a = import ./default.nix\n\nnix-repl&gt; a\n\u00abderivation /nix/store/2418mxjclapvfr2vfpn315kkafazfz21-python3.7-labeler-0.1.0.drv\u00bb\n\nnix-repl&gt; a.propagatedBuildInputs\n[ \u00abderivation /nix/store/70v1ji5x9fy66mq2gj82xsq8m5fq7bfw-python3.7-flask-1.1.2.drv\u00bb \u00abderivation /nix/store/9shhzxwx64jwh27ch915h1f5iwrnlw8w-python3-3.7.6.drv\u00bb \u00abderivation /nix/store/f1whq59zbaybqd8b9m2y4nxb2bayxh0g-python3.7-setuptools-44.0.0.drv\u00bb \u00abderivation /nix/store/9shhzxwx64jwh27ch915h1f5iwrnlw8w-python3-3.7.6.drv\u00bb ]\n</code></pre></div>\n\n\n<p>Shouldn't that mean <code>flask</code> should be available? I'm confused why explicitly including it fixes the problem here</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 201796170,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "serving a small python server",
            "submessages": [],
            "timestamp": 1592954097,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>I'm also a bit confused about what this derivation actually builds -- if I build it it doesn't produce any binaries, but if I run <code>nix-shell default.nix --pure</code>, there's a python binary available and it has flask in the pythonpath</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 201796311,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "serving a small python server",
            "submessages": [],
            "timestamp": 1592954201,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>For what it's worth, changing the config to <code>(mkPoetryApplication { ... }).propagatedBuildInputs</code> works for my minimal example -- I guess this is the solution (except maybe I need to concat that with <code>buildInputs</code>, etc. Don't really understand why this was necessary but hey, it works <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 201808503,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "serving a small python server",
            "submessages": [],
            "timestamp": 1592969149,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>This comes up a fair bit when packaging Python applications with Nix. IIUC <code>buildInputs</code> is for direct dependencies that are only needed in the build phase and not afterwards, but if you want to make dependencies available to consumers of your expresssion then <code>propagatedBuildInputs</code> is necessary, see <a href=\"https://nixos.org/nixos/nix-pills/basic-dependencies-and-hooks.html#idm140737319494464\">https://nixos.org/nixos/nix-pills/basic-dependencies-and-hooks.html#idm140737319494464</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 201871603,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "serving a small python server",
            "submessages": [],
            "timestamp": 1593016528,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>Makes sense -- I hadn't really made that mental distinction because it seems like where you put arguments is more or less interchangeable inside a shell (probably not strictly true, but at least when working with small examples it feels this way), which makes sense since the shell is kinda an interactive build environment</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 201884259,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "serving a small python server",
            "submessages": [],
            "timestamp": 1593022741,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>Google doc of what we're doing/talking about: <a href=\"https://docs.google.com/document/d/1ByQchwwyPxjXSaw_YikHBrFiNHSDjm38fVrhgn4QO8g/edit?usp=sharing\">https://docs.google.com/document/d/1ByQchwwyPxjXSaw_YikHBrFiNHSDjm38fVrhgn4QO8g/edit?usp=sharing</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202273485,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "NixOS users group",
            "submessages": [],
            "timestamp": 1593408842,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>i have a shell environment in a <code>default.nix</code> that fails due to a broken package.. i tried this command to go around it and see what's actually failing (so i can fix it)</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"gp\">$</span> nix-shell --arg config <span class=\"s1\">&#39;{ allowBroken = true; }&#39;</span>\n</code></pre></div>\n\n\n<p>however it seems this isn't the correct approach because i get the same \"package broken\" error</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202519731,
            "is_me_message": false,
            "last_edit_timestamp": 1593564701,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "broken package in shell env",
            "submessages": [],
            "timestamp": 1593564674,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>the same thing happens when i use <code>nix-build</code> so i think i'm doing something wrong</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202519818,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "broken package in shell env",
            "submessages": [],
            "timestamp": 1593564766,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>maybe <span class=\"user-mention\" data-user-id=\"100041\">@Vaibhav Sagar (he) (F1'16)</span> knows? meanwhile, i'm going to try overriding package versions or something</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202520208,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "broken package in shell env",
            "submessages": [],
            "timestamp": 1593565188,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p>What does your expression look like? I think you aren't passing <code>config.allowBroken</code> to <code>nixpkgs</code>, which is why it's still failing.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202528491,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "broken package in shell env",
            "submessages": [],
            "timestamp": 1593575568,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>I think you can do that with <code>import &lt;nixpkgs&gt; { config.allowBroken = true; };</code> (or something slightly different depending on how you're pull it in)</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202532988,
            "is_me_message": false,
            "last_edit_timestamp": 1593582246,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "broken package in shell env",
            "submessages": [],
            "timestamp": 1593582218,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "ZulipMobile",
            "content": "<p>Oh, yeah, my default.nix doesn't have a <code>{ config }:</code></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202536881,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "broken package in shell env",
            "submessages": [],
            "timestamp": 1593587266,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "ZulipMobile",
            "content": "<p>And doesn't pass a <code>config</code> to nixpkgs</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202536892,
            "is_me_message": false,
            "last_edit_timestamp": 1593587373,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "broken package in shell env",
            "submessages": [],
            "timestamp": 1593587277,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>Adding the argument and passing it to my instantiation of nixpkgs worked</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202593662,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "broken package in shell env",
            "submessages": [],
            "timestamp": 1593622200,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p><span class=\"user-mention\" data-user-id=\"100041\">@Vaibhav Sagar (he) (F1'16)</span> I'm using almost the same expression as the one you showed me</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"p\">{</span> config<span class=\"p\">,</span> <span class=\"o\">...</span> <span class=\"p\">}:</span>\n<span class=\"c1\"># mostly from https://vaibhavsagar.com/blog/2018/05/27/quick-easy-nixpkgs-pinning/</span>\n<span class=\"k\">let</span>\n  <span class=\"c1\"># vnixpinupdater versions.json nixpkgs nixos-20.03</span>\n  <span class=\"ss\">fetcher =</span> <span class=\"p\">{</span> owner<span class=\"p\">,</span> repo<span class=\"p\">,</span> rev<span class=\"p\">,</span> sha256<span class=\"p\">,</span> <span class=\"o\">...</span> <span class=\"p\">}:</span> <span class=\"nb\">builtins</span><span class=\"o\">.</span>fetchTarball <span class=\"p\">{</span>\n    <span class=\"k\">inherit</span> sha256<span class=\"p\">;</span>\n    <span class=\"ss\">url =</span> <span class=\"s2\">&quot;https://github.com/</span><span class=\"si\">${</span>owner<span class=\"si\">}</span><span class=\"s2\">/</span><span class=\"si\">${</span>repo<span class=\"si\">}</span><span class=\"s2\">/archive/</span><span class=\"si\">${</span>rev<span class=\"si\">}</span><span class=\"s2\">.tar.gz&quot;</span><span class=\"p\">;</span>\n  <span class=\"p\">};</span>\n  <span class=\"ss\">nixpkgs =</span> <span class=\"nb\">import</span> <span class=\"p\">(</span>fetcher <span class=\"p\">(</span><span class=\"nb\">builtins</span><span class=\"o\">.</span>fromJSON <span class=\"p\">(</span><span class=\"nb\">builtins</span><span class=\"o\">.</span>readFile <span class=\"o\">.</span><span class=\"l\">/versions.json</span><span class=\"p\">))</span><span class=\"o\">.</span>nixpkgs<span class=\"p\">)</span> <span class=\"p\">{</span> <span class=\"k\">inherit</span> config<span class=\"p\">;</span> <span class=\"p\">};</span>\n  <span class=\"ss\">source =</span> nixpkgs<span class=\"o\">.</span>nix-gitignore<span class=\"o\">.</span>gitignoreSource <span class=\"p\">[]</span> <span class=\"o\">.</span><span class=\"l\">/.</span><span class=\"p\">;</span>\n  <span class=\"ss\">drv =</span> nixpkgs<span class=\"o\">.</span>haskellPackages<span class=\"o\">.</span>callCabal2nix <span class=\"s2\">&quot;try&quot;</span> source <span class=\"p\">{};</span>\n<span class=\"k\">in</span> <span class=\"k\">if</span> nixpkgs<span class=\"o\">.</span>lib<span class=\"o\">.</span>inNixShell <span class=\"k\">then</span> drv<span class=\"o\">.</span>env <span class=\"k\">else</span> drv\n</code></pre></div>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202593839,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "broken package in shell env",
            "submessages": [],
            "timestamp": 1593622271,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>With this issue solved, I'm continuing by discussing the particular broken package in the <a href=\"#narrow/stream/20298-haskell/topic/broken.20package.20in.20nix\">haskell stream</a>.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202608853,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "broken package in shell env",
            "submessages": [],
            "timestamp": 1593629563,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>I switched out the first line for one with a default value so that I don't always have to pass in the <code>allowBroken</code> argument</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"p\">{</span> config <span class=\"o\">?</span> <span class=\"p\">{},</span> <span class=\"o\">...</span> <span class=\"p\">}:</span>\n\n<span class=\"o\">...</span>\n</code></pre></div>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202612798,
            "is_me_message": false,
            "last_edit_timestamp": 1593632094,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "broken package in shell env",
            "submessages": [],
            "timestamp": 1593631453,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/4d074af6cc341ef51b25bb2f738cdb11?d=identicon&version=1",
            "client": "website",
            "content": "<p><span class=\"user-mention\" data-user-id=\"5014\">@Patrick Redmond (W'14)</span> IMO this is still a Nix issue. There's a <code>doJailbreak</code> function that is usually how I solve this problem, but <a href=\"https://github.com/peti/jailbreak-cabal/issues/7#issuecomment-87445882\">it doesn't work on conditional stanzas</a> and I think <code>jsaddle-warp</code> uses <code>warp</code> in this way. If you want it to work with minimal fuss you could try to patch it <a href=\"https://github.com/NixOS/nixpkgs/pull/85753\">like I patched <code>hakyll</code> here</a>.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202646824,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "vaibhavsagar@gmail.com",
            "sender_full_name": "Vaibhav Sagar (he) (F1'16)",
            "sender_id": 100041,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "broken package in shell env",
            "submessages": [],
            "timestamp": 1593660148,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>Yeah, you're right that this is still a nix issue and not a haskell issue <span class=\"user-mention\" data-user-id=\"100041\">@Vaibhav Sagar (he) (F1'16)</span></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202648486,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "broken package in shell env",
            "submessages": [],
            "timestamp": 1593662819,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>But I can't move the messages from the other stream over here</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202648489,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "broken package in shell env",
            "submessages": [],
            "timestamp": 1593662827,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>Ok, returning from my premature detour <a href=\"#narrow/stream/20298-haskell/topic/broken.20package.20in.20nix\">to the haskell stream</a>..</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202648610,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "broken package in shell env",
            "submessages": [],
            "timestamp": 1593663044,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n\n<p>current default.nix</p>\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n\n<div class=\"codehilite\"><pre><span></span><code><span class=\"p\">{</span> config <span class=\"o\">?</span> <span class=\"p\">{</span> <span class=\"ss\">allowBroken =</span> <span class=\"no\">true</span><span class=\"p\">;</span> <span class=\"p\">},</span> <span class=\"o\">...</span> <span class=\"p\">}:</span>\n<span class=\"k\">let</span>\n  <span class=\"c1\"># function to fetch a pinned version of nixpkgs</span>\n  <span class=\"c1\">## from https://vaibhavsagar.com/blog/2018/05/27/quick-easy-nixpkgs-pinning/</span>\n  <span class=\"ss\">fetcher =</span> <span class=\"p\">{</span> owner<span class=\"p\">,</span> repo<span class=\"p\">,</span> rev<span class=\"p\">,</span> sha256<span class=\"p\">,</span> <span class=\"o\">...</span> <span class=\"p\">}:</span> <span class=\"nb\">builtins</span><span class=\"o\">.</span>fetchTarball <span class=\"p\">{</span>\n    <span class=\"k\">inherit</span> sha256<span class=\"p\">;</span>\n    <span class=\"ss\">url =</span> <span class=\"s2\">&quot;https://github.com/</span><span class=\"si\">${</span>owner<span class=\"si\">}</span><span class=\"s2\">/</span><span class=\"si\">${</span>repo<span class=\"si\">}</span><span class=\"s2\">/archive/</span><span class=\"si\">${</span>rev<span class=\"si\">}</span><span class=\"s2\">.tar.gz&quot;</span><span class=\"p\">;</span>\n  <span class=\"p\">};</span>\n  <span class=\"c1\"># fetch pinned version of nixpkgs</span>\n  <span class=\"c1\">## `vnixpinupdater versions.json nixpkgs nixos-20.03` wrote versions.json</span>\n  <span class=\"ss\">nixpkgs =</span> <span class=\"nb\">import</span>\n    <span class=\"p\">(</span>fetcher <span class=\"p\">(</span><span class=\"nb\">builtins</span><span class=\"o\">.</span>fromJSON <span class=\"p\">(</span><span class=\"nb\">builtins</span><span class=\"o\">.</span>readFile <span class=\"o\">.</span><span class=\"l\">/versions.json</span><span class=\"p\">))</span><span class=\"o\">.</span>nixpkgs<span class=\"p\">)</span>\n    <span class=\"p\">{</span> <span class=\"k\">inherit</span> config<span class=\"p\">;</span> <span class=\"p\">};</span>\n  <span class=\"c1\"># override haskell dependencies in nixpkgs</span>\n  <span class=\"ss\">haskellPackages =</span> nixpkgs<span class=\"o\">.</span>haskellPackages<span class=\"o\">.</span>override <span class=\"p\">(</span>\n    old<span class=\"p\">:</span> <span class=\"p\">{</span>\n      <span class=\"ss\">overrides =</span> self<span class=\"p\">:</span> super<span class=\"p\">:</span> <span class=\"p\">{</span>\n        <span class=\"c1\"># jsaddle-warp-0.9.7.0 wants warp &gt;=3.1.2 &amp;&amp; &lt;3.3</span>\n        <span class=\"ss\">warp =</span> nixpkgs<span class=\"o\">.</span>haskell<span class=\"o\">.</span>lib<span class=\"o\">.</span>overrideCabal\n          <span class=\"p\">(</span>self<span class=\"o\">.</span>callHackage <span class=\"s2\">&quot;warp&quot;</span> <span class=\"s2\">&quot;3.2.28&quot;</span> <span class=\"p\">{})</span>\n          <span class=\"c1\"># warp tests rely on curl</span>\n          <span class=\"p\">(</span>old<span class=\"p\">:</span> <span class=\"p\">{</span> <span class=\"ss\">testToolDepends =</span> old<span class=\"o\">.</span>testToolDepends <span class=\"ow\">or</span> <span class=\"p\">[]</span> <span class=\"o\">++</span> <span class=\"p\">[</span> nixpkgs<span class=\"o\">.</span>curl <span class=\"p\">];</span> <span class=\"p\">});</span>\n        <span class=\"c1\"># warp-3.2.28 wants http2 ==1.6.*</span>\n        <span class=\"ss\">http2 =</span> self<span class=\"o\">.</span>callHackage <span class=\"s2\">&quot;http2&quot;</span> <span class=\"s2\">&quot;1.6.5&quot;</span> <span class=\"p\">{};</span>\n        <span class=\"c1\"># jsaddle-warp tests ask for the path to their own source code</span>\n        <span class=\"ss\">jsaddle-warp =</span> nixpkgs<span class=\"o\">.</span>haskell<span class=\"o\">.</span>lib<span class=\"o\">.</span>dontCheck super<span class=\"o\">.</span>jsaddle-warp<span class=\"p\">;</span>\n      <span class=\"p\">};</span>\n    <span class=\"p\">}</span>\n  <span class=\"p\">);</span>\n  <span class=\"c1\"># ignore files specified by gitignore</span>\n  <span class=\"ss\">source =</span> nixpkgs<span class=\"o\">.</span>nix-gitignore<span class=\"o\">.</span>gitignoreSource <span class=\"p\">[]</span> <span class=\"o\">.</span><span class=\"l\">/.</span><span class=\"p\">;</span>\n  <span class=\"c1\"># use overridden-haskellPackages to call gitignored-source and produce either package or env</span>\n  <span class=\"ss\">drv =</span> haskellPackages<span class=\"o\">.</span>callCabal2nix <span class=\"s2\">&quot;try&quot;</span> source <span class=\"p\">{};</span>\n<span class=\"k\">in</span>\n<span class=\"k\">if</span> nixpkgs<span class=\"o\">.</span>lib<span class=\"o\">.</span>inNixShell <span class=\"k\">then</span> drv<span class=\"o\">.</span>env <span class=\"k\">else</span> drv\n</code></pre></div>\n\n\n</div></div>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202650086,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "broken package in shell env",
            "submessages": [],
            "timestamp": 1593665342,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>this fixes the dependencies and enables me to use <code>jsaddle-warp</code> and <code>ghcjs-dom</code></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202650309,
            "is_me_message": false,
            "last_edit_timestamp": 1593665676,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "broken package in shell env",
            "submessages": [],
            "timestamp": 1593665654,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>the override for <code>warp</code> could have been a simple <code>dontCheck</code> but i wanted to learn how to fix it by changing how it's built</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202650337,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "broken package in shell env",
            "submessages": [],
            "timestamp": 1593665717,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>I have a MacBookPro11,5 with an intel GPU and a discrete ATI Radeon GPU. Apple's EFI disables the intel GPU on boot if your os doesn't identify itself as OSX. As a result, running always on the ATI Radeon card, the computer uses so much power that the apple provided power adapter can barely keep up.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202943969,
            "is_me_message": false,
            "last_edit_timestamp": 1594188853,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "apple_set_os to reduce discrete GPU power consumption",
            "submessages": [],
            "timestamp": 1593993948,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>Somebody made this EFI program <a href=\"https://github.com/0xbb/apple_set_os.efi/blob/master/apple_set_os.c\">apple_set_os</a> to be used with ReFind or Grub which identifies linux as OSX and prevents Apple's EFI from disabling the intel GPU.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202944029,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "apple_set_os to reduce discrete GPU power consumption",
            "submessages": [],
            "timestamp": 1593994043,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>I don't see anything in the nixos world about supporting <code>apple_set_os</code> so I'm going to use this as a learning exercise and try to package it myself.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202944036,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "apple_set_os to reduce discrete GPU power consumption",
            "submessages": [],
            "timestamp": 1593994076,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>I'm starting with this documentation:</p>\n<ul>\n<li><a href=\"https://nixos.org/nixos/manual/index.html#sec-custom-packages\">https://nixos.org/nixos/manual/index.html#sec-custom-packages</a> -&gt; describes how to install an arbitrary nix expression on your system</li>\n<li><a href=\"https://nixos.org/nixpkgs/manual/#sec-using-stdenv\">https://nixos.org/nixpkgs/manual/#sec-using-stdenv</a> -&gt; descibes how to use stdenv..  i think the nixpkgs manual is more up to date than the nix manual or the nixos manual because the nixpkgs describes using pname+version instead of name</li>\n</ul>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202944084,
            "is_me_message": false,
            "last_edit_timestamp": 1594188871,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "apple_set_os to reduce discrete GPU power consumption",
            "submessages": [],
            "timestamp": 1593994168,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>Ok, after getting some help on IRC I've arrived at a working nix expression.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202952517,
            "is_me_message": false,
            "last_edit_timestamp": 1594010316,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "apple_set_os to reduce discrete GPU power consumption",
            "submessages": [],
            "timestamp": 1594009347,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>I'll post a link here just as soon as I've pushed it to a fork of nixpkgs.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202952529,
            "is_me_message": false,
            "last_edit_timestamp": 1594010308,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "apple_set_os to reduce discrete GPU power consumption",
            "submessages": [],
            "timestamp": 1594009390,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>I'm continuing with this documentation:</p>\n<ul>\n<li><a href=\"https://nixos.org/nixpkgs/manual/#idm140737317250448\">https://nixos.org/nixpkgs/manual/#idm140737317250448</a> -&gt; describes how to add a package to nixpkgs</li>\n</ul>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202953044,
            "is_me_message": false,
            "last_edit_timestamp": 1594188881,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "apple_set_os to reduce discrete GPU power consumption",
            "submessages": [],
            "timestamp": 1594010287,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>Here's the nix-expression I came up with:</p>\n<div class=\"spoiler-block\"><div class=\"spoiler-header\">\n\n<p>apple_set_os/default.nix</p>\n</div><div class=\"spoiler-content\" aria-hidden=\"true\">\n\n<div class=\"codehilite\"><pre><span></span><code><span class=\"p\">{</span> stdenv<span class=\"p\">,</span> lib<span class=\"p\">,</span> fetchFromGitHub<span class=\"p\">,</span> gnu-efi <span class=\"p\">}:</span>\n\nstdenv<span class=\"o\">.</span>mkDerivation <span class=\"k\">rec</span> <span class=\"p\">{</span>\n  <span class=\"ss\">pname =</span> <span class=\"s2\">&quot;apple_set_os&quot;</span><span class=\"p\">;</span>\n  <span class=\"ss\">version =</span> <span class=\"s2\">&quot;1&quot;</span><span class=\"p\">;</span>\n  <span class=\"ss\">src =</span> fetchFromGitHub <span class=\"p\">{</span>\n    <span class=\"ss\">owner =</span> <span class=\"s2\">&quot;0xbb&quot;</span><span class=\"p\">;</span>\n    <span class=\"ss\">repo =</span> <span class=\"s2\">&quot;apple_set_os.efi.git&quot;</span><span class=\"p\">;</span>\n    <span class=\"ss\">rev =</span> <span class=\"s2\">&quot;refs/tags/v1&quot;</span><span class=\"p\">;</span>\n    <span class=\"ss\">sha256 =</span> <span class=\"s2\">&quot;1lfpvyfw0vlxbdnz445iyyy8fcfci3hkvlzid9cdcjy5jz8b56i1&quot;</span><span class=\"p\">;</span>\n  <span class=\"p\">};</span>\n  <span class=\"ss\">meta =</span> <span class=\"k\">with</span> lib<span class=\"p\">;</span> <span class=\"p\">{</span>\n    <span class=\"ss\">descrption =</span> <span class=\"s2\">&quot;Tiny EFI program for unlocking the Intel IGD on the MacBookPro11,3 (and others) for Linux and Windows&quot;</span><span class=\"p\">;</span>\n    <span class=\"ss\">homepage =</span> <span class=\"s2\">&quot;https://github.com/0xbb/apple_set_os.efi&quot;</span><span class=\"p\">;</span>\n    <span class=\"ss\">license =</span> licenses<span class=\"o\">.</span>mit<span class=\"p\">;</span>\n  <span class=\"p\">};</span>\n\n  <span class=\"c1\"># build</span>\n  <span class=\"ss\">buildInputs =</span> <span class=\"p\">[</span> gnu-efi <span class=\"p\">];</span>\n  <span class=\"ss\">buildPhase =</span> <span class=\"s2\">&quot;make&quot;</span><span class=\"p\">;</span>\n\n  <span class=\"c1\"># fix header lookups</span>\n  <span class=\"ss\">NIX_CFLAGS_COMPILE =</span> <span class=\"s2\">&quot;-I </span><span class=\"si\">${</span>gnu-efi<span class=\"si\">}</span><span class=\"s2\">/include/efi -I </span><span class=\"si\">${</span>gnu-efi<span class=\"si\">}</span><span class=\"s2\">/include/efi/x86_64&quot;</span><span class=\"p\">;</span>\n\n  <span class=\"c1\"># fix header includes</span>\n  <span class=\"ss\">patches =</span> <span class=\"p\">[</span>\n    <span class=\"o\">.</span><span class=\"l\">/0001-Fix-build-with-gnu-efi-3.0.4.patch</span> <span class=\"c1\"># git format-patch -1 792cd73156aea520533f389045c72db5e244252b</span>\n  <span class=\"p\">];</span>\n\n  <span class=\"c1\"># fix lib dir paths</span>\n  <span class=\"ss\">GNU_EFI_LIB =</span> <span class=\"s2\">&quot;</span><span class=\"si\">${</span>gnu-efi<span class=\"si\">}</span><span class=\"s2\">/lib&quot;</span><span class=\"p\">;</span>\n  <span class=\"ss\">postPatch =</span> <span class=\"s1\">&#39;&#39;</span>\n<span class=\"s1\">    sed </span><span class=\"err\">&#39;</span><span class=\"s1\">s,/usr/lib,$(GNU_EFI_LIB),</span><span class=\"err\">&#39;</span><span class=\"s1\"> Makefile -i</span>\n<span class=\"s1\">  &#39;&#39;</span><span class=\"p\">;</span>\n\n  <span class=\"c1\"># install</span>\n  <span class=\"ss\">installPhase =</span> <span class=\"s2\">&quot;mkdir $out &amp;&amp; cp apple_set_os.efi $out&quot;</span><span class=\"p\">;</span>\n<span class=\"p\">}</span>\n</code></pre></div>\n\n\n</div></div>\n\n<p>I've pushed it to a fork here: <a href=\"https://github.com/NixOS/nixpkgs/compare/nixos-20.03...plredmond:add/apple_set_os\">https://github.com/NixOS/nixpkgs/compare/nixos-20.03...plredmond:add/apple_set_os</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202955703,
            "is_me_message": false,
            "last_edit_timestamp": 1594185670,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "apple_set_os to reduce discrete GPU power consumption",
            "submessages": [],
            "timestamp": 1594015051,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>I'll try to make a nixos-module this week to do the appropriate boot-shenanigans:<br>\n<a href=\"https://bbs.archlinux.org/viewtopic.php?pid=1757978#p1757978\">https://bbs.archlinux.org/viewtopic.php?pid=1757978#p1757978</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 202955867,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "apple_set_os to reduce discrete GPU power consumption",
            "submessages": [],
            "timestamp": 1594015260,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>Hi! Let me know if you keep having meetings. :)</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 203214324,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "NixOS users group",
            "submessages": [],
            "timestamp": 1594163335,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>I'm spinning up on nix(os) recently, after having a few false starts over the years. <span class=\"user-mention\" data-user-id=\"100041\">@Vaibhav Sagar (he) (F1'16)</span> unstuck me recently. :)</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 203214346,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "NixOS users group",
            "submessages": [],
            "timestamp": 1594163360,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>Yea! We have an event on the calendar tomorrow (4-4:30 eastern time)</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 203215869,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "NixOS users group",
            "submessages": [],
            "timestamp": 1594164610,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>Ok, i'll check the calendar</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 203219499,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "NixOS users group",
            "submessages": [],
            "timestamp": 1594168124,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<div class=\"codehilite\"><pre><span></span><code><span class=\"gp\">22:54:07$</span> nix-shell -p efibootmgr\n<span class=\"gp\">[nix-shell:~/nixpkgs]$</span> efibootmgr --verbose\n<span class=\"go\">BootCurrent: 0000</span>\n<span class=\"go\">Timeout: 5 seconds</span>\n<span class=\"go\">BootOrder: 0000,0080</span>\n<span class=\"go\">Boot0000* Linux Boot ManagerCould not parse device path: Invalid argument</span>\n\n<span class=\"gp\">[nix-shell:~/nixpkgs]$</span>\n</code></pre></div>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 203233778,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "efibootmgr bug",
            "submessages": [],
            "timestamp": 1594187683,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p><img alt=\":mild_panic:\" class=\"emoji\" src=\"https://zulip-avatars.s3.amazonaws.com/13/emoji/images/13003.png\" title=\"mild panic\"></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 203233796,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "efibootmgr bug",
            "submessages": [],
            "timestamp": 1594187706,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p><span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span> <a href=\"https://github.com/NixOS/nixpkgs/pull/89251\">https://github.com/NixOS/nixpkgs/pull/89251</a> somebody cherry-picked the fix into nixpkgs</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 203233809,
            "is_me_message": false,
            "last_edit_timestamp": 1594188093,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "efibootmgr bug",
            "submessages": [],
            "timestamp": 1594187733,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p><span aria-label=\"shrug\" class=\"emoji emoji-1f937\" role=\"img\" title=\"shrug\">:shrug:</span> <a href=\"https://lazamar.co.uk/nix-versions/?channel=nixpkgs-unstable&amp;package=efibootmgr\">https://lazamar.co.uk/nix-versions/?channel=nixpkgs-unstable&amp;package=efibootmgr</a> using the versions on this site for <code>nixos-unstable</code> and <code>nixpkgs-unstable</code> didn't work even though that PR is merged</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 203233860,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "efibootmgr bug",
            "submessages": [],
            "timestamp": 1594187797,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p><span aria-label=\"sleuth\" class=\"emoji emoji-1f575\" role=\"img\" title=\"sleuth\">:sleuth:</span> i copied the commit hash from that PR above <code>c36d87cfe421d0aeba759f75258c7fa10e2a3128</code> and spliced it into the versioned nix-shell command from the website above..</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"gp\">22:52:44$</span> nix-shell -p efibootmgr -I <span class=\"nv\">nixpkgs</span><span class=\"o\">=</span>https://github.com/NixOS/nixpkgs-channels/archive/c36d87cfe421d0aeba759f75258c7fa10e2a3128.tar.gz\n<span class=\"go\">unpacking &#39;https://github.com/NixOS/nixpkgs-channels/archive/c36d87cfe421d0aeba759f75258c7fa10e2a3128.tar.gz&#39;...</span>\n<span class=\"go\">these paths will be fetched (54.85 MiB download, 244.32 MiB unpacked):</span>\n<span class=\"go\">  /nix/store/0x8pbk0578knfpxf9gbl0lhmpynh2947-binutils-2.31.1</span>\n<span class=\"go\">...</span>\n<span class=\"go\">copying path &#39;/nix/store/b0jz23gnnyjrr72rz36xkc3wr36isky6-stdenv-linux&#39; from &#39;https://cache.nixos.org&#39;...</span>\n<span class=\"gp\">[nix-shell:~/nixpkgs]$</span> efibootmgr --verbose\n<span class=\"go\">BootCurrent: 0000</span>\n<span class=\"go\">Timeout: 5 seconds</span>\n<span class=\"go\">BootOrder: 0000,0080</span>\n<span class=\"go\">Boot0000* Linux Boot Manager    HD(1,GPT,8e...00)/File(\\EFI\\systemd\\systemd-bootx64.efi)</span>\n<span class=\"go\">Boot0080* Mac OS X      PciRoot(0x0)/Pci(0x1,0x2)/Pci(0x0,0x0)/Sata(0,0,0)/HD(3,GPT,9c...20)</span>\n<span class=\"go\">Boot0081* Mac OS X      PciRoot(0x0)/Pci(0x1,0x2)/Pci(0x0,0x0)/Sata(0,0,0)/HD(3,GPT,9c...20)</span>\n<span class=\"go\">Boot0082*       PciRoot(0x0)/Pci(0x1,0x2)/Pci(0x0,0x0)/Sata(0,0,0)/HD(3,GPT,9c...20)</span>\n<span class=\"go\">BootFFFF*       PciRoot(0x0)/Pci(0x1,0x2)/Pci(0x0,0x0)/Sata(0,0,0)/HD(3,GPT,c9...20)/File(\\System\\Library\\CoreServices\\boot.efi)</span>\n\n<span class=\"gp\">[nix-shell:~/nixpkgs]$</span>\n</code></pre></div>\n\n\n<p><span aria-label=\"grinning face with smiling eyes\" class=\"emoji emoji-1f601\" role=\"img\" title=\"grinning face with smiling eyes\">:grinning_face_with_smiling_eyes:</span> this makes the switch to nixos feel worthwhile</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 203234023,
            "is_me_message": false,
            "last_edit_timestamp": 1594188158,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "efibootmgr bug",
            "submessages": [],
            "timestamp": 1594188008,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>Ok, minor detour via an <a href=\"#narrow/stream/100724-nix/topic/efibootmgr.20bug\">efibootmgr bug</a> ..</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 203234633,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "apple_set_os to reduce discrete GPU power consumption",
            "submessages": [],
            "timestamp": 1594188777,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>Back to the saga of the powerhungry graphics card</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 203234643,
            "is_me_message": false,
            "last_edit_timestamp": 1594188796,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "apple_set_os to reduce discrete GPU power consumption",
            "submessages": [],
            "timestamp": 1594188792,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>hello! :) are we meeting in zoom?</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 203315758,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "NixOS users group",
            "submessages": [],
            "timestamp": 1594238657,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/ee5ef8c4705125cfdc43e7d1569c684c58cb518b?x=x&version=2",
            "client": "ZulipElectron",
            "content": "<p>Re our convo on zoom, <code>nix-env --delete-generations</code> clears out old efi entries I think?</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 203319787,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "maxim@ontoillogical.com",
            "sender_full_name": "Max Veytsman (he) (S1'20)",
            "sender_id": 5875,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "efibootmgr bug",
            "submessages": [],
            "timestamp": 1594240697,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>Thanks! thats really helpful</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 203327068,
            "is_me_message": false,
            "last_edit_timestamp": 1600284984,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "efibootmgr bug",
            "submessages": [],
            "timestamp": 1594244303,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>I'll try to figure out how that's implemented at the systemd-boot level over in <a href=\"#narrow/stream/100724-nix/topic/apple_set_os.20to.20reduce.20discrete.20GPU.20power.20consumption\">apple_set_os</a> :)</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 203327081,
            "is_me_message": false,
            "last_edit_timestamp": 1594244372,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "efibootmgr bug",
            "submessages": [],
            "timestamp": 1594244315,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a2cc22089e70c6b1e9a84d91ac82118ab06aa82a?x=x&version=2",
            "client": "website",
            "content": "<p>Similarly, nix has a config setting <code>allowUnfree</code> hiding some packages (even open source ones, I dunno the rationale). It was totally undocumented at the time it inconvenienced me. I guess the GNU/Attitude is not limited to GNU projects.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 203530168,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "1f643",
                    "emoji_name": "upside_down",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "mnoronha@uchicago.edu",
                        "full_name": "Michael Noronha (he) (S2'20)",
                        "id": 101318
                    },
                    "user_id": 101318
                }
            ],
            "recipient_id": 103227,
            "sender_email": "peter@push.cx",
            "sender_full_name": "Peter Bhat Harkins (he) (F2'17)",
            "sender_id": 102004,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "guix?",
            "submessages": [],
            "timestamp": 1594399431,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>I'm not super philosophical about this stuff, but it seems like the completely wrong default to me. Like, I go to install a package, and it's like \"well actually, that's not a package, it's an UNFREE package\" /rant</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 203542947,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "guix?",
            "submessages": [],
            "timestamp": 1594406331,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/b2a6b06ba040fd7f7c2acd4d1440e7de?d=identicon&version=1",
            "client": "ZulipMobile",
            "content": "<p>(deleted)</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 203545604,
            "is_me_message": false,
            "last_edit_timestamp": 1594407844,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mauricio@collares.org",
            "sender_full_name": "Mauricio Collares (he) (W2'19)",
            "sender_id": 158563,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "guix?",
            "submessages": [],
            "timestamp": 1594407689,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/b2a6b06ba040fd7f7c2acd4d1440e7de?d=identicon&version=1",
            "client": "ZulipMobile",
            "content": "<p>I won't comment on the defaults, but I appreciate the possibility of setting allowUnfree to false. It was a somewhat important part of my decision to try NixOS instead of Guix.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 203545903,
            "is_me_message": false,
            "last_edit_timestamp": 1594408149,
            "reactions": [
                {
                    "emoji_code": "1f44d",
                    "emoji_name": "+1",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "mnoronha@uchicago.edu",
                        "full_name": "Michael Noronha (he) (S2'20)",
                        "id": 101318
                    },
                    "user_id": 101318
                }
            ],
            "recipient_id": 103227,
            "sender_email": "mauricio@collares.org",
            "sender_full_name": "Mauricio Collares (he) (W2'19)",
            "sender_id": 158563,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "guix?",
            "submessages": [],
            "timestamp": 1594407839,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>I think the default to not installing unfree packages is there because many unfree packages include closed-source or obfuscated binaries which may represent a privacy threat to some users. Given the awareness of privacy in the open source and free software communities, I think it's understandable that some distros default to disallowing unfree packages.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 203551518,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "guix?",
            "submessages": [],
            "timestamp": 1594411007,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>GUIX being a gnu project understandably makes the barrier higher than nix. In nix, there's a single boolean option. <del>Do <code>man configuration.nix</code> and search for <code>allowUnfree</code>.</del> [Edit: Wow, it's actually not a top-level option with documentation in the manual page. I'm disappointed.]</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 203551656,
            "is_me_message": false,
            "last_edit_timestamp": 1594411386,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "guix?",
            "submessages": [],
            "timestamp": 1594411084,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>Given how easy it is to package things for nix, I wonder if one could use a given unfree-driver-package in nix to learn what sources exist for the driver and then easily port the same to guix? That might be a way to get started with both learning guix and using guix.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 203551912,
            "is_me_message": false,
            "last_edit_timestamp": 1594411230,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "guix?",
            "submessages": [],
            "timestamp": 1594411205,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>Oops! Sorry, I missed today's meeting.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 204013693,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "NixOS users group",
            "submessages": [],
            "timestamp": 1594847571,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/ee5ef8c4705125cfdc43e7d1569c684c58cb518b?x=x&version=2",
            "client": "ZulipElectron",
            "content": "<p>I'm hanging out in sammet now :)</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 204716084,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "maxim@ontoillogical.com",
            "sender_full_name": "Max Veytsman (he) (S1'20)",
            "sender_id": 5875,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "NixOS users group",
            "submessages": [],
            "timestamp": 1595448498,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>Sorry! I joined briefly and then left :P</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 204734726,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "NixOS users group",
            "submessages": [],
            "timestamp": 1595460380,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>I was sick today. Sorry. I do want to join though! I have a thing brewing that I'd like to discuss. :)</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 204735021,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "NixOS users group",
            "submessages": [],
            "timestamp": 1595460647,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/ee5ef8c4705125cfdc43e7d1569c684c58cb518b?x=x&version=2",
            "client": "ZulipElectron",
            "content": "<p><span class=\"user-mention\" data-user-id=\"5014\">@Patrick Redmond (W'14)</span> <span class=\"user-mention\" data-user-id=\"101318\">@Michael Noronha (he) (S2'20)</span> were on zoom now if you want to join</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 205407229,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "1f605",
                    "emoji_name": "sweat_smile",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "PLRedmond@gmail.com",
                        "full_name": "Patrick Redmond (W'14)",
                        "id": 5014
                    },
                    "user_id": 5014
                }
            ],
            "recipient_id": 103227,
            "sender_email": "maxim@ontoillogical.com",
            "sender_full_name": "Max Veytsman (he) (S1'20)",
            "sender_id": 5875,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "NixOS users group",
            "submessages": [],
            "timestamp": 1596053285,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/ee5ef8c4705125cfdc43e7d1569c684c58cb518b?x=x&version=2",
            "client": "ZulipElectron",
            "content": "<p>an interesting approach: <a href=\"https://thomazleite.com/posts/development-with-nix-python/\">https://thomazleite.com/posts/development-with-nix-python/</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 205407617,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "maxim@ontoillogical.com",
            "sender_full_name": "Max Veytsman (he) (S1'20)",
            "sender_id": 5875,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Nix and python",
            "submessages": [],
            "timestamp": 1596053501,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>Sorry, I had a weirdly busy afternoon and missed this again.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 205422374,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "NixOS users group",
            "submessages": [],
            "timestamp": 1596062560,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>Huh, <code>mach-nix</code> looks super interesting I had no idea this was a thing</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 205430187,
            "is_me_message": false,
            "last_edit_timestamp": 1596069309,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Nix and python",
            "submessages": [],
            "timestamp": 1596069302,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>Same :/</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 205432195,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "NixOS users group",
            "submessages": [],
            "timestamp": 1596071588,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>Haha I tried this out on a minimal example (just <code>numpy</code>), it broke so I was gonna give up and maybe look at it again later, then I looked back and there was a new release 4 hrs ago that fixed the bug I'd run into <span aria-label=\"tada\" class=\"emoji emoji-1f389\" role=\"img\" title=\"tada\">:tada:</span></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 205510376,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Nix and python",
            "submessages": [],
            "timestamp": 1596131751,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p><a href=\"https://github.com/DavHau/mach-nix/issues/55\">The 3 minute emotional rollercoaster</a> <span aria-label=\"roller coaster\" class=\"emoji emoji-1f3a2\" role=\"img\" title=\"roller coaster\">:roller_coaster:</span></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 205510457,
            "is_me_message": false,
            "last_edit_timestamp": 1596131788,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Nix and python",
            "submessages": [],
            "timestamp": 1596131777,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>I'm gonna be digging into one of <code>mach-nix</code> or <code>poetry2nix</code> this week to learn how they work under the hood. Anyone up to pair on this?</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 205692374,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Nix and python",
            "submessages": [],
            "timestamp": 1596305714,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>(slight preference for <code>mach-nix</code>)</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 205692378,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Nix and python",
            "submessages": [],
            "timestamp": 1596305736,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/ee5ef8c4705125cfdc43e7d1569c684c58cb518b?x=x&version=2",
            "client": "ZulipMobile",
            "content": "<p>I realized I set this event to expire with the last week of my batch. </p>\n<p>Last week <span class=\"user-mention\" data-user-id=\"264095\">@Alex Chen (he) (SP1'20)</span> and I paired on getting a python project to run on nix and I\u2019m happy to continue that today. Alex, when is good for you? Also <span class=\"user-mention\" data-user-id=\"101318\">@Michael Noronha (he) (S2'20)</span> want to join us as you were digging into python stuff too?</p>\n<p>I don\u2019t want to create a recurring event unless someone else  can commit to hosting it.<br>\n<span class=\"user-mention\" data-user-id=\"101318\">@Michael Noronha (he) (S2'20)</span> expressed some interest in taking it over, no pressure if there\u2019s too much on your plate, A friend of mine who is a big Nix user is going to be at RC in September and I am going to try to get him to run it when he\u2019s in-batch (hi Andrey if you\u2019re reading the backscroll ;))</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 206019645,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "maxim@ontoillogical.com",
            "sender_full_name": "Max Veytsman (he) (S1'20)",
            "sender_id": 5875,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "NixOS users group",
            "submessages": [],
            "timestamp": 1596632950,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>I couldn't get a project to build. Too many of its dependencies relied on a testing library which was bring in about many extra dependencies. I decided to prune the testing library, but couldn't figure out what was pulling it in by looking at <code>nix-store -q --tree /nix/store/....drv</code>. I found a solution that worked:</p>\n<div class=\"codehilite\"><pre><span></span><code>        <span class=\"ss\">tasty-rerun =</span> self<span class=\"o\">.</span>callHackage <span class=\"s2\">&quot;hello&quot;</span> <span class=\"s2\">&quot;1.0&quot;</span> <span class=\"p\">{};</span> <span class=\"c1\"># hack to disable tests for a bunch of packages</span>\n</code></pre></div>\n\n\n<p>Since tests in haskell are executables that just return <code>0</code> for success, overriding <code>tasty-rerun</code> with a program that always returns <code>0</code> trivially and has no dependencies accomplished my goal of disabling tests for many dependencies and not bringing in the dependencies of the testing library.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 206054196,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "awful hack",
            "submessages": [],
            "timestamp": 1596649313,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/6263e852a5789e39c4bacd700eeba2cce3fe6f8f?x=x&version=5",
            "client": "website",
            "content": "<p>fantastic</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 206055313,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "nathanisom27@gmail.com",
            "sender_full_name": "Nathan Isom (he) (W2'20)",
            "sender_id": 255190,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "awful hack",
            "submessages": [],
            "timestamp": 1596649761,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/833ed696bb4b9faaa8adbba9e8a2d9a8?d=identicon&version=1",
            "client": "website",
            "content": "<p>Sorry, I won't be able to make it today (my sister is in town), but I'd be happy to pair tomorrow or on Friday!</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 206059414,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "1f44d",
                    "emoji_name": "+1",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "mnoronha@uchicago.edu",
                        "full_name": "Michael Noronha (he) (S2'20)",
                        "id": 101318
                    },
                    "user_id": 101318
                }
            ],
            "recipient_id": 103227,
            "sender_email": "awchen@fastmail.com",
            "sender_full_name": "Alex Chen (he) (SP1'20)",
            "sender_id": 264095,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "NixOS users group",
            "submessages": [],
            "timestamp": 1596651640,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>Just skimmed through this video series by one of the developers at shopify: <a href=\"https://www.youtube.com/playlist?list=PLRGI9KQ3_HP_OFRG6R-p4iFgMSK1t5BHs\">https://www.youtube.com/playlist?list=PLRGI9KQ3_HP_OFRG6R-p4iFgMSK1t5BHs</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 206224985,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "NixOS users group",
            "submessages": [],
            "timestamp": 1596777533,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>A tiny bit is darwin-specific, but most of it is general</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 206224992,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "NixOS users group",
            "submessages": [],
            "timestamp": 1596777561,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>I don't think this is necessarily complicated, but so so nice: <a href=\"https://github.com/Shopify/comma\">https://github.com/Shopify/comma</a>. How you use it: if you don't have a binary, preface the command with <code>,</code> and comma finds the package in <code>nixpkgs</code></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 206430335,
            "is_me_message": false,
            "last_edit_timestamp": 1597039026,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "comma",
            "submessages": [],
            "timestamp": 1597038947,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>So probably a lot less fumbling around trying to remember how to start a nix shell with a few packages installed from the command line from now on :)</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 206430384,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "comma",
            "submessages": [],
            "timestamp": 1597038989,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/6263e852a5789e39c4bacd700eeba2cce3fe6f8f?x=x&version=5",
            "client": "website",
            "content": "<p>neat hack!</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 206474275,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "nathanisom27@gmail.com",
            "sender_full_name": "Nathan Isom (he) (W2'20)",
            "sender_id": 255190,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "comma",
            "submessages": [],
            "timestamp": 1597073214,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/8883f6051fe385c3b03f16804c838d4c6b10e4bc?x=x&version=2",
            "client": "website",
            "content": "<p>I have an ex-colleague who's a big fan of Nix, but if I recall correctly he mentioned some issues with macOS Catalina. The issue looks closed now, but curious to know if anyone's more familiar (I've only just started looking into Nix)</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 206885432,
            "is_me_message": false,
            "last_edit_timestamp": 1597363203,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ezzeri.esa@gmail.com",
            "sender_full_name": "Ezzeri Esa (he) (F1'20)",
            "sender_id": 327456,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "macOS Catalina",
            "submessages": [],
            "timestamp": 1597362974,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/2ce71a96d529311d42a8a041471b31f9?d=identicon&version=1",
            "client": "ZulipMobile",
            "content": "<p>I don't have a macOS device anymore, maybe <span class=\"user-mention\" data-user-id=\"5875\">@Max Veytsman (he) (S1'20)</span> knows?</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 206926424,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "andrey.petrov@shazow.net",
            "sender_full_name": "Andrey Petrov (he) (F1'20)",
            "sender_id": 327980,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "macOS Catalina",
            "submessages": [],
            "timestamp": 1597410023,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/ee5ef8c4705125cfdc43e7d1569c684c58cb518b?x=x&version=2",
            "client": "ZulipMobile",
            "content": "<p>Heh. I was debugging a very complicated issue where my work dev environment wasn\u2019t building. I was considering trying to upgrade to Catalina to fix it, but read this post while the update was downloading and stopped it <span aria-label=\"grinning\" class=\"emoji emoji-1f600\" role=\"img\" title=\"grinning\">:grinning:</span> </p>\n<p>If you\u2019re curious: the problem was that I somehow had binaries called <code>users</code> and <code>sort</code> and <code>groups</code> in my gopath for some reason, that was being loaded before the  real ones. This broke build scripts in very subtle and hard to define ways</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 206926756,
            "is_me_message": false,
            "last_edit_timestamp": 1597410264,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "maxim@ontoillogical.com",
            "sender_full_name": "Max Veytsman (he) (S1'20)",
            "sender_id": 5875,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "macOS Catalina",
            "submessages": [],
            "timestamp": 1597410248,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/ee5ef8c4705125cfdc43e7d1569c684c58cb518b?x=x&version=2",
            "client": "ZulipElectron",
            "content": "<p>that's right my first week at work I face a very hard to debug PATH issue that would have trivially been solved by Nix <span aria-label=\"joy\" class=\"emoji emoji-1f602\" role=\"img\" title=\"joy\">:joy:</span></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 206931593,
            "is_me_message": false,
            "last_edit_timestamp": 1597413419,
            "reactions": [
                {
                    "emoji_code": "1f643",
                    "emoji_name": "upside_down",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "andrey.petrov@shazow.net",
                        "full_name": "Andrey Petrov (he) (F1'20)",
                        "id": 327980
                    },
                    "user_id": 327980
                }
            ],
            "recipient_id": 103227,
            "sender_email": "maxim@ontoillogical.com",
            "sender_full_name": "Max Veytsman (he) (S1'20)",
            "sender_id": 5875,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "macOS Catalina",
            "submessages": [],
            "timestamp": 1597413408,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>PATH shadowing issues go way back <span class=\"user-mention\" data-user-id=\"5875\">@Max Veytsman (he) (S1'20)</span>! Don't worry, you're definitely not the first person to be bitten by that.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 206949740,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "macOS Catalina",
            "submessages": [],
            "timestamp": 1597423248,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/ee5ef8c4705125cfdc43e7d1569c684c58cb518b?x=x&version=2",
            "client": "ZulipMobile",
            "content": "<p>It was so hard to debug because if broke a build script when compiling git. (we run a custom fork at GitHub that you need on development machine) . The script transforms a .txt file into a .h file, with the .h file being in gitignore so I never figured out that it was changed. I would just get errors during compilation about missing constants</p>\n<p>I had to pair with a member of the git team to debug this <span aria-label=\"sweat smile\" class=\"emoji emoji-1f605\" role=\"img\" title=\"sweat smile\">:sweat_smile:</span></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 206950063,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "1f605",
                    "emoji_name": "sweat_smile",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "ezzeri.esa@gmail.com",
                        "full_name": "Ezzeri Esa (he) (F1'20)",
                        "id": 327456
                    },
                    "user_id": 327456
                }
            ],
            "recipient_id": 103227,
            "sender_email": "maxim@ontoillogical.com",
            "sender_full_name": "Max Veytsman (he) (S1'20)",
            "sender_id": 5875,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "macOS Catalina",
            "submessages": [],
            "timestamp": 1597423440,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>Oh wow, yeah, that's a lot of complexity. You'll run into a lot of really weird bugs/corner cases when ramping up on a new company's development platform. <strong>Write them all down.</strong> Years down the road, if you're friends with, a manager over, or working on, the devtooling team you'll have a nice juicy list of things to fix.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 206951035,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "16425",
                    "emoji_name": "nice",
                    "reaction_type": "realm_emoji",
                    "user": {
                        "email": "ajarara94@gmail.com",
                        "full_name": "Ahmad Jarara (S2'17)",
                        "id": 101400
                    },
                    "user_id": 101400
                }
            ],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "macOS Catalina",
            "submessages": [],
            "timestamp": 1597423945,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/8883f6051fe385c3b03f16804c838d4c6b10e4bc?x=x&version=2",
            "client": "website",
            "content": "<p>wow. all this is super helpful - thank you! i'll update if anything comes up.</p>\n<p>wonder what wrinkles one runs into on the ARM Mac when that comes out (i've been putting off getting a new personal laptop)... :D</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 206951386,
            "is_me_message": false,
            "last_edit_timestamp": 1597424428,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ezzeri.esa@gmail.com",
            "sender_full_name": "Ezzeri Esa (he) (F1'20)",
            "sender_id": 327456,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "macOS Catalina",
            "submessages": [],
            "timestamp": 1597424116,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://secure.gravatar.com/avatar/ef039ebebe21b975d2459f92aa693722?d=identicon&version=1",
            "client": "ZulipElectron",
            "content": "<p>I went through the process of getting nix working on Catalina, and it is quite painful. It involves partitioning your drive - and as a fairly new nix user, I honestly regret doing it</p>\n<p>You can feel the pain in this thread: <a href=\"https://github.com/NixOS/nix/issues/2925\">https://github.com/NixOS/nix/issues/2925</a></p>\n<p>I found the experience to be extremely distracting, and I fought with a lot of things that were tangential to actually getting a good sense of what nix ws all about. Ultimately, I got a lot more joy out of:</p>\n<ol>\n<li>Spinning up a NixOS VM</li>\n<li>Putting NixOS on a cheap machine</li>\n</ol>\n<p>I don't mean to be discouraging, but I do think it's worth setting the expectation that getting a smooth Nix experience on Catalina will be a lot of work. (And if you're excited by that work, great! You'll definitely learn some things about your system!)</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 206954551,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "1f631",
                    "emoji_name": "scream",
                    "reaction_type": "unicode_emoji",
                    "user": {
                        "email": "andrey.petrov@shazow.net",
                        "full_name": "Andrey Petrov (he) (F1'20)",
                        "id": 327980
                    },
                    "user_id": 327980
                }
            ],
            "recipient_id": 103227,
            "sender_email": "aaronstrick@gmail.com",
            "sender_full_name": "Aaron Strick (he) (F2'18)",
            "sender_id": 129958,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "macOS Catalina",
            "submessages": [],
            "timestamp": 1597425812,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/8883f6051fe385c3b03f16804c838d4c6b10e4bc?x=x&version=2",
            "client": "website",
            "content": "<p>ouch, makes sense. juggling a couple of things right now, so might make sense to push it back a bit especially with OSS week next week. appreciate the detailed note!</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 206963238,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ezzeri.esa@gmail.com",
            "sender_full_name": "Ezzeri Esa (he) (F1'20)",
            "sender_id": 327456,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "macOS Catalina",
            "submessages": [],
            "timestamp": 1597430668,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/8883f6051fe385c3b03f16804c838d4c6b10e4bc?x=x&version=2",
            "client": "website",
            "content": "<p>nicely done on getting it to work</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 206963281,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ezzeri.esa@gmail.com",
            "sender_full_name": "Ezzeri Esa (he) (F1'20)",
            "sender_id": 327456,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "macOS Catalina",
            "submessages": [],
            "timestamp": 1597430698,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/8883f6051fe385c3b03f16804c838d4c6b10e4bc?x=x&version=2",
            "client": "website",
            "content": "<p>or rather, hats off for persisting through the pain ;)</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 206963317,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "ezzeri.esa@gmail.com",
            "sender_full_name": "Ezzeri Esa (he) (F1'20)",
            "sender_id": 327456,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "macOS Catalina",
            "submessages": [],
            "timestamp": 1597430721,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/a0dee7b2f79915213075f1ca226224764407ad4d?x=x&version=4",
            "client": "website",
            "content": "<p><em>grumbles in <span aria-label=\"apple\" class=\"emoji emoji-1f34e\" role=\"img\" title=\"apple\">:apple:</span></em></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 207074714,
            "is_me_message": false,
            "reactions": [
                {
                    "emoji_code": "1695",
                    "emoji_name": "sadparrot",
                    "reaction_type": "realm_emoji",
                    "user": {
                        "email": "shae.erisson@gmail.com",
                        "full_name": "Shae Matijs Erisson (he) (F1'19)",
                        "id": 221819
                    },
                    "user_id": 221819
                },
                {
                    "emoji_code": "1695",
                    "emoji_name": "sadparrot",
                    "reaction_type": "realm_emoji",
                    "user": {
                        "email": "andrey.petrov@shazow.net",
                        "full_name": "Andrey Petrov (he) (F1'20)",
                        "id": 327980
                    },
                    "user_id": 327980
                },
                {
                    "emoji_code": "1695",
                    "emoji_name": "sadparrot",
                    "reaction_type": "realm_emoji",
                    "user": {
                        "email": "mnoronha@uchicago.edu",
                        "full_name": "Michael Noronha (he) (S2'20)",
                        "id": 101318
                    },
                    "user_id": 101318
                }
            ],
            "recipient_id": 103227,
            "sender_email": "ajarara94@gmail.com",
            "sender_full_name": "Ahmad Jarara (S2'17)",
            "sender_id": 101400,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "macOS Catalina",
            "submessages": [],
            "timestamp": 1597589885,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/0031ae6808e421803a47dd48c189e6a205070b92?x=x&version=5",
            "client": "website",
            "content": "<p>pkgs.buildGoModule produces a different derivation each time?!! Am i missing something here? How am i supposed to cache my builds?</p>\n<div class=\"codehilite\"><pre><span></span><code>{ pkgs ? import &lt;nixpkgs&gt; {} }:\npkgs.buildGoModule {\n  name = &quot;hello&quot;;\n  src = ./.;\n  vendorSha256 = &quot;0sjjj9z1dhilhpc8pq4154czrb79z9cm044jvn75kxcjv6v5l2m5&quot;;\n}\n</code></pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><code>package main\n\nimport &quot;fmt&quot;\n\nfunc main() {\n  fmt.Println(&quot;Hello World&quot;);\n\n}\n</code></pre></div>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 207720103,
            "is_me_message": false,
            "last_edit_timestamp": 1598095694,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "jacquin.mininger@gmail.com",
            "sender_full_name": "Jacquin Mininger (F2'17)",
            "sender_id": 102005,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Go-lang best practices",
            "submessages": [],
            "timestamp": 1598095646,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/0031ae6808e421803a47dd48c189e6a205070b92?x=x&version=5",
            "client": "website",
            "content": "<p>Woah, wait a minute: Since when does the <code>result</code> symlink get added as part of the src-input? Wow... i feel silly.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 207720416,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "jacquin.mininger@gmail.com",
            "sender_full_name": "Jacquin Mininger (F2'17)",
            "sender_id": 102005,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Go-lang best practices",
            "submessages": [],
            "timestamp": 1598096167,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>I'm running into a weird error with this minimal <code>shell.nix</code>:</p>\n<div class=\"codehilite\"><pre><span></span><code>with import &lt;nixpkgs&gt; {};\n\nlet\n  py = pkgs.python37;\nin\nstdenv.mkDerivation rec {\n  name = &quot;python-environment&quot;;\n\n  buildInputs = [\n    py\n    py.pkgs.pip\n  ];\n}\n</code></pre></div>\n\n\n<div class=\"codehilite\"><pre><span></span><code>$ nix-shell\n$ python -m venv venv\nError: Command &#39;[&#39;/home/mtn/Documents/tst/venv/bin/python&#39;, &#39;-Im&#39;, &#39;ensurepip&#39;, &#39;--upgrade&#39;, &#39;--default-pip&#39;]&#39; returned non-zero exit status 1.\n</code></pre></div>\n\n\n<p>Anyone seen this or know why this might be happening? when I run the command directly it has a read-only filesystem error, but I don't understand why running <code>venv</code> is trying to upgrade <code>pip</code></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 209142643,
            "is_me_message": false,
            "last_edit_timestamp": 1599254755,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "venv tries to upgrade pip?",
            "submessages": [],
            "timestamp": 1599254742,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p><code>venv</code> trying to upgrade <code>pip</code> in the outside environment seems to go against the point of <code>venv</code>, right...?</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 209142726,
            "is_me_message": false,
            "last_edit_timestamp": 1599254838,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "venv tries to upgrade pip?",
            "submessages": [],
            "timestamp": 1599254823,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>I've also never seen this problem when doing the exact same thing before (installing packages into a virtualenv), so I'm gonna try pinning an earlier nixpkgs</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 209142817,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "venv tries to upgrade pip?",
            "submessages": [],
            "timestamp": 1599254890,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>Turns out this error happens when <code>venv</code> already exists <span aria-label=\"face palm\" class=\"emoji emoji-1f926\" role=\"img\" title=\"face palm\">:face_palm:</span></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 209142978,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "venv tries to upgrade pip?",
            "submessages": [],
            "timestamp": 1599255053,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/333bbc33b9eca3de56596185538e752c4e82dd63?x=x&version=4",
            "client": "ZulipElectron",
            "content": "<p>Yay for informative error messages!</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 209142994,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "mnoronha@uchicago.edu",
            "sender_full_name": "Michael Noronha (he) (S2'20)",
            "sender_id": 101318,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "venv tries to upgrade pip?",
            "submessages": [],
            "timestamp": 1599255069,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>is there a syntax to pattern match the result of a let binding?</p>\n<p>it seems there is syntax in a function definition: <a href=\"https://nixos.org/guides/nix-pills/functions-and-imports.html#idm140737320526640\">https://nixos.org/guides/nix-pills/functions-and-imports.html#idm140737320526640</a></p>\n<p>i tried this but it didn't work</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"k\">let</span>\n    <span class=\"p\">{</span> foo<span class=\"p\">,</span> bar <span class=\"p\">}</span> <span class=\"o\">=</span> <span class=\"p\">{</span> <span class=\"ss\">foo =</span> <span class=\"mi\">13</span><span class=\"p\">;</span> <span class=\"ss\">bar =</span> <span class=\"mi\">14</span> <span class=\"p\">};</span>\n<span class=\"k\">in</span>\n    <span class=\"o\">...</span>\n</code></pre></div>\n\n\n<p>searching around the manuals, i don't see the word \"pattern\" or \"destructure\" used anywhere relevant</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 210300303,
            "is_me_message": false,
            "last_edit_timestamp": 1600287486,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "[solved] pattern match in let?",
            "submessages": [],
            "timestamp": 1600280374,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p><span aria-label=\"thinking\" class=\"emoji emoji-1f914\" role=\"img\" title=\"thinking\">:thinking:</span> i wonder if <code>inherit</code> used in a let binding can do something like this.. i feel like i've seen that around</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 210300405,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "[solved] pattern match in let?",
            "submessages": [],
            "timestamp": 1600280412,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>this syntax <a href=\"https://nixos.org/manual/nixpkgs/stable/#ssec-pkgs-snapTools-build-a-snap-hello\">from an example</a> seems to work</p>\n<div class=\"codehilite\"><pre><span></span><code><span class=\"k\">let</span>\n    <span class=\"k\">inherit</span> <span class=\"p\">({</span> <span class=\"ss\">bar =</span> <span class=\"mi\">12</span><span class=\"p\">;</span> <span class=\"ss\">baz =</span> <span class=\"mi\">13</span><span class=\"p\">;</span> <span class=\"p\">})</span> bar baz<span class=\"p\">;</span> <span class=\"c1\"># parens are required</span>\n<span class=\"k\">in</span>\n    <span class=\"o\">...</span>\n</code></pre></div>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 210301266,
            "is_me_message": false,
            "last_edit_timestamp": 1600280934,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "[solved] pattern match in let?",
            "submessages": [],
            "timestamp": 1600280865,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<div class=\"codehilite\"><pre><span></span><code>nix-store --query /nix/store/<span class=\"nv\">$HASH</span>-<span class=\"nv\">$NAME</span>-<span class=\"nv\">$VER</span> --graph <span class=\"p\">|</span> dot -Tsvg -O\n</code></pre></div>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 210303736,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "dependency graph",
            "submessages": [],
            "timestamp": 1600282116,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>This will generate <code>noname.gv.svg</code> which can be opened in a browser to visualize the dependencies of the specified store path</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 210303816,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "dependency graph",
            "submessages": [],
            "timestamp": 1600282157,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p><a href=\"user_uploads/13/Mn9j4K8ZS7UWtLX1mH1TJEEP/noname.gv.svg\">noname.gv.svg</a><br>\n<a href=\"user_uploads/13/GAdMKPaDnDVtPzqhNozrJDUc/hello.png\">https://recurse.zulipchat.com/user_uploads/13/GAdMKPaDnDVtPzqhNozrJDUc/hello.png</a></p>\n<div class=\"message_inline_image\"><a href=\"user_uploads/13/GAdMKPaDnDVtPzqhNozrJDUc/hello.png\" title=\"https://recurse.zulipchat.com/user_uploads/13/GAdMKPaDnDVtPzqhNozrJDUc/hello.png\"><img src=\"user_uploads/13/GAdMKPaDnDVtPzqhNozrJDUc/hello.png\"></a></div><p>This is an example generated from the <code>hello</code> cabal package on hackage. I'm not sure if it is including build-time dependencies because although <code>gcc</code> is there, <code>ghc</code> is missing.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 210304075,
            "is_me_message": false,
            "last_edit_timestamp": 1600282531,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "dependency graph",
            "submessages": [],
            "timestamp": 1600282268,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>Oh, the <code>nix-store</code> docs are pretty clear on that actually:</p>\n<div class=\"codehilite\"><pre><span></span><code>       --graph\n           Prints the references graph of the store paths paths in the format of the dot tool of AT&amp;T&#39;s\n           Graphviz package[1]. This can be used to visualise dependency graphs. To obtain a build-time\n           dependency graph, apply this to a store derivation. To obtain a runtime dependency graph,\n           apply it to an output path.\n</code></pre></div>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 210304453,
            "is_me_message": false,
            "last_edit_timestamp": 1600282506,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "dependency graph",
            "submessages": [],
            "timestamp": 1600282458,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>The build-time graph is 13k lines and probably not a useful visualization. Additionally <code>dot</code> took too long to draw it.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 210305867,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "dependency graph",
            "submessages": [],
            "timestamp": 1600283094,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>I needed to find a derivation path for an output path. There's a <code>nix-store</code> option for that:</p>\n<div class=\"codehilite\"><pre><span></span><code>nix-store --query  /nix/store/kkr4mbv9wj8sxr1d25k4bf6ba0az7n1n-liquidhaskell-0.8.10.2 --deriver\n/nix/store/dlq4k5khp905nscz22cyyhv77jwh2662-liquidhaskell-0.8.10.2.drv\n</code></pre></div>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 210306095,
            "is_me_message": false,
            "last_edit_timestamp": 1600284109,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "find derivation for output path",
            "submessages": [],
            "timestamp": 1600283184,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>Sorry if this is stating the obvious for y'all.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 210308013,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "find derivation for output path",
            "submessages": [],
            "timestamp": 1600284119,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>when i build a project with <code>nix-build</code> i get the \"unfree\" error on a dependency that I don't think is related to the project.</p>\n<div class=\"codehilite\"><pre><span></span><code>Package \u2018cudatoolkit-10.2.89\u2019 in /nix/store/qlvaa0sqi51n4by2f49wsdia1x4dgj3k-source/pkgs/development/compilers/cudatoolkit/common.nix:235 has an unfree license (\u2018unfree\u2019), refusing to evaluate.\n</code></pre></div>\n\n\n<p>it's confusing because <code>cudatoolkit</code> doesn't show up in the dependencies</p>\n<div class=\"codehilite\"><pre><span></span><code>$ nix-store --query --tree $OUTPUT\n</code></pre></div>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 210308693,
            "is_me_message": false,
            "last_edit_timestamp": 1600287426,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "[solved] why this dependency?",
            "submessages": [],
            "timestamp": 1600284472,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>I thought maybe it was a build time dependency only, but it doesn't show up in the output this either</p>\n<div class=\"codehilite\"><pre><span></span><code>$ nix-store --query --tree $(nix-store --query --deriver $OUTPUT)\n</code></pre></div>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 210308813,
            "is_me_message": false,
            "last_edit_timestamp": 1600286603,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "[solved] why this dependency?",
            "submessages": [],
            "timestamp": 1600284517,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>This has exhausted my limited nix-cli abilities and I'm not really sure where to look beyond this</p>\n<p><del>Help?</del></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 210308937,
            "is_me_message": false,
            "last_edit_timestamp": 1600286781,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "[solved] why this dependency?",
            "submessages": [],
            "timestamp": 1600284589,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>Had you already created the <code>venv/</code> dir on a previous run?</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 210309244,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "venv tries to upgrade pip?",
            "submessages": [],
            "timestamp": 1600284730,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p><span class=\"user-mention\" data-user-id=\"102005\">@Jacquin Mininger (F2'17)</span> you can teach nix to ignore all the files in your <code>.gitignore</code> file by replacing your <code>src = ./.;</code> with:</p>\n<div class=\"codehilite\"><pre><span></span><code>    <span class=\"ss\">src =</span> nixpkgs<span class=\"o\">.</span>nix-gitignore<span class=\"o\">.</span>gitignoreSource <span class=\"p\">[]</span> <span class=\"o\">.</span><span class=\"l\">/.</span><span class=\"p\">;</span>\n</code></pre></div>\n\n\n<p>I typically ignore both <code>result</code> and <code>*.nix</code> in <code>.gitignore</code> to reduce the number of pointless rebuilds while writing the nix expressions, and then remove the entries after I've finished (at the cost of one total rebuild).</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 210309587,
            "is_me_message": false,
            "last_edit_timestamp": 1600301432,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Go-lang best practices",
            "submessages": [],
            "timestamp": 1600284905,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>I don't know if this is the right approach. I only found it after dealing with the issue you described above (but on a haskell project). If you know of a different approach, please post here!</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 210309637,
            "is_me_message": false,
            "last_edit_timestamp": 1600284949,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Go-lang best practices",
            "submessages": [],
            "timestamp": 1600284928,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>Ok, I figured this out. I was incorrectly returning a <code>nixpkgs.haskellPackages</code> as my derivation.. i switched it to <code>nixpkgs.haskellPackages.hello</code> and the error about cuda went away.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 210313655,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "[solved] why this dependency?",
            "submessages": [],
            "timestamp": 1600286831,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>One way to make this sort of problem obvious would have been to do <code>nix-build --keep-going</code> which would have quickly revealed that i had incorrectly attempted to build all of <code>haskellPackages</code></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 210314892,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "[solved] why this dependency?",
            "submessages": [],
            "timestamp": 1600287462,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/0031ae6808e421803a47dd48c189e6a205070b92?x=x&version=5",
            "client": "website",
            "content": "<p><span class=\"user-mention\" data-user-id=\"5014\">@Patrick Redmond (W'14)</span> the next day my colleague told me about that. He said gitignore is the preferred one (although we seem to use <a href=\"https://github.com/hercules-ci/gitignore.nix\">https://github.com/hercules-ci/gitignore.nix</a>, which we fetch from src, so maybe they are different?). I also found out that there is <br>\n<code>pkgs.lib.cleanSource ./.</code> which at least takes care of the <code>result</code> symlink, but according to the same colleague \"is awful\"</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 210326016,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "jacquin.mininger@gmail.com",
            "sender_full_name": "Jacquin Mininger (F2'17)",
            "sender_id": 102005,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Go-lang best practices",
            "submessages": [],
            "timestamp": 1600293853,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p><span class=\"user-mention\" data-user-id=\"102005\">@Jacquin Mininger (F2'17)</span> Oh cool! Ok, so there have been lots of attempts it sounds like I'll check the one your colleague says is preferred.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 210335158,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "Go-lang best practices",
            "submessages": [],
            "timestamp": 1600301415,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>This alarming message appears on the nixpkgs-channels repo at <a href=\"https://github.com/NixOS/nixpkgs-channels\">https://github.com/NixOS/nixpkgs-channels</a></p>\n<blockquote>\n<p>DEPRECATED! This is an obsolete, read-only mirror of the NixOS/nixpkgs repository. </p>\n</blockquote>\n<p>There's no further explanation in the readme.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 212645409,
            "is_me_message": false,
            "last_edit_timestamp": 1602130067,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "DEPRECATED! This is an obsolete, read-only mirror ...",
            "submessages": [],
            "timestamp": 1602130058,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>As of today, at least, the 20.03 channel branch <a href=\"https://github.com/NixOS/nixpkgs-channels/tree/nixos-20.03\">https://github.com/NixOS/nixpkgs-channels/tree/nixos-20.03</a> is being kept up to date with the 20.03 nixpkgs branch <a href=\"https://github.com/NixOS/nixpkgs/tree/nixos-20.03\">https://github.com/NixOS/nixpkgs/tree/nixos-20.03</a> .. both are <code>0d0660fde3bb53a3d013b65e5e141eb11d1efb82</code></p>\n<p>I guess there's some in progress migration away from the channels repo?</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 212645487,
            "is_me_message": false,
            "last_edit_timestamp": 1602130362,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "DEPRECATED! This is an obsolete, read-only mirror ...",
            "submessages": [],
            "timestamp": 1602130200,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>I don't see anything about it in the news <a href=\"https://nixos.org/news.html\">https://nixos.org/news.html</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 212645529,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "DEPRECATED! This is an obsolete, read-only mirror ...",
            "submessages": [],
            "timestamp": 1602130220,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<div class=\"codehilite\"><pre><span></span><code>21:10:54$ sudo nix-channel --list\n[sudo] password for mote:\nnixos https://nixos.org/channels/nixos-20.03\n</code></pre></div>\n\n\n<p>My current system, installed less than 6 months ago, doesn't know about this change. :)</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 212645554,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "DEPRECATED! This is an obsolete, read-only mirror ...",
            "submessages": [],
            "timestamp": 1602130312,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>Does anybody know what this message is about?</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 212645602,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "DEPRECATED! This is an obsolete, read-only mirror ...",
            "submessages": [],
            "timestamp": 1602130391,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>err, i don't see how the <code>https://nixos.org/channels/nixos-20.03</code> thing is related to the github repo? no idea what the story is with the repo, though.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 212645606,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "DEPRECATED! This is an obsolete, read-only mirror ...",
            "submessages": [],
            "timestamp": 1602130412,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>Oh, good point. I misread.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 212645650,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "DEPRECATED! This is an obsolete, read-only mirror ...",
            "submessages": [],
            "timestamp": 1602130453,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>Well, same commit at the very least?</p>\n<div class=\"codehilite\"><pre><span></span><code>21:15:01$ nixos-version\n20.03.3101.0d0660fde3b (Markhor)\n</code></pre></div>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 212645667,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "DEPRECATED! This is an obsolete, read-only mirror ...",
            "submessages": [],
            "timestamp": 1602130549,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>Taking a look at <a href=\"https://nixos.org/channels/nixos-20.03\">https://nixos.org/channels/nixos-20.03</a>, it's a page that links to <a href=\"https://github.com/NixOS/nixpkgs-channels/commits/0d0660fde3bb53a3d013b65e5e141eb11d1efb82\">https://github.com/NixOS/nixpkgs-channels/commits/0d0660fde3bb53a3d013b65e5e141eb11d1efb82</a></p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 212645709,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "DEPRECATED! This is an obsolete, read-only mirror ...",
            "submessages": [],
            "timestamp": 1602130572,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/612c7c2a108d7850c62d1d2293a481aa42855408?x=x&version=2",
            "client": "website",
            "content": "<p>So they are related, it seems, directly.</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 212645712,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "PLRedmond@gmail.com",
            "sender_full_name": "Patrick Redmond (W'14)",
            "sender_id": 5014,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "DEPRECATED! This is an obsolete, read-only mirror ...",
            "submessages": [],
            "timestamp": 1602130585,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>i have a <code>shell.nix</code> file. i want to have a npm package installed when i <code>nix-shell</code>, so that i can use the binary it provides on the command line. what is the easiest way to do this? <a href=\"https://github.com/svanderburg/node2nix\">node2nix</a> seems like maybe the way to go, but i can't find an example of using nix-shell, and the docs look somewhat complicated...</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 214887177,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "npm binaries and nix-shell",
            "submessages": [],
            "timestamp": 1603913804,
            "topic_links": [],
            "type": "stream"
        },
        {
            "avatar_url": "https://zulip-avatars.s3.amazonaws.com/13/5d6a7a4735c43e9dae0e3f9ef82919706728452a?x=x&version=3",
            "client": "website",
            "content": "<p>ah, <a href=\"https://github.com/uniphil/nix-for-devs#nodejs\">this</a> worked. a bit annoyed that i have to have a <code>package.json</code> and a <code>package-lock.json</code>, but so be it...</p>",
            "content_type": "text/html",
            "display_recipient": "nix",
            "flags": [
                "read",
                "historical"
            ],
            "id": 214887969,
            "is_me_message": false,
            "reactions": [],
            "recipient_id": 103227,
            "sender_email": "me@wesleyac.com",
            "sender_full_name": "Wesley Aptekar-Cassels (they) (m8'20)",
            "sender_id": 101330,
            "sender_realm_str": "recurse",
            "stream_id": 100724,
            "subject": "npm binaries and nix-shell",
            "submessages": [],
            "timestamp": 1603914283,
            "topic_links": [],
            "type": "stream"
        }
    ],
    "msg": "",
    "result": "success"
}
